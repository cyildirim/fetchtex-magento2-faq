define(function(){"use strict";var o="function"==typeof Symbol?Symbol.for("nodejs.util.inspect.custom"):void 0;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=10,u=2;function N(e){return s(e,[])}function s(e,t){switch(r(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var r=[].concat(t,[e]);if(e){var n=function(e){var t=e[String(o)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(n){var i=n.call(e);if(i!==e)return"string"==typeof i?i:s(i,r)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>u)return"[Array]";for(var r=Math.min(a,e.length),n=e.length-r,i=[],o=0;o<r;++o)i.push(s(e[o],t));1==n?i.push("... 1 more item"):1<n&&i.push("... ".concat(n," more items"));return"["+i.join(", ")+"]"}(e,r);return function(t,r){var e=Object.keys(t);if(0===e.length)return"{}";if(r.length>u)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var r=e.constructor.name;if("string"==typeof r)return r}return t}(t)+"]";return"{ "+e.map(function(e){return e+": "+s(t[e],r)}).join(", ")+" }"}(e,r)}return String(e)}(e,t);default:return String(e)}}function e(e,t){var r=1<arguments.length&&void 0!==t?t:e.prototype.toString;e.prototype.toJSON=r,e.prototype.inspect=r,o&&(e.prototype[o]=r)}function n(e,t){if(!e)throw new Error(t)}function i(e,t,r){this.body=e,this.name=t||"GraphQL request",this.locationOffset=r||{line:1,column:1},0<this.locationOffset.line||n(0,"line in locationOffset is 1-indexed and must be positive"),0<this.locationOffset.column||n(0,"column in locationOffset is 1-indexed and must be positive")}var t;function v(e,t){for(var r,n=/\r\n|[\n\r]/g,i=1,o=t+1;(r=n.exec(e.body))&&r.index<t;)i+=1,o=t+1-(r.index+r[0].length);return{line:i,column:o}}function y(e,t){var r=e.locationOffset.column-1,n=l(r)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,u=1===t.line?r:0,s=t.column+u,c=n.split(/\r\n|[\n\r]/g);return"".concat(e.name," (").concat(a,":").concat(s,")\n")+function(e){var t=e.filter(function(e){e[0];return void 0!==e[1]}),n=0,r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value[0];n=Math.max(n,s.length)}}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return t.map(function(e){var t=e[0],r=e[1];return function(e,t){return l(e-t.length)+t}(n,t)+r}).join("\n")}([["".concat(a-1,": "),c[i-1]],["".concat(a,": "),c[i]],["",l(s-1)+"^"],["".concat(a+1,": "),c[1+i]]])}function l(e){return Array(e+1).join(" ")}function p(e,t,r,n,i,o,a){var u=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,s=r;if(!s&&u){var c=u[0];s=c&&c.loc&&c.loc.source}var l,f=n;!f&&u&&(f=u.reduce(function(e,t){return t.loc&&e.push(t.loc.start),e},[])),f&&0===f.length&&(f=void 0),n&&r?l=n.map(function(e){return v(r,e)}):u&&(l=u.reduce(function(e,t){return t.loc&&e.push(v(t.loc.source,t.loc.start)),e},[]));var h=a||o&&o.extensions;Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:l||void 0,enumerable:Boolean(l)},path:{value:i||void 0,enumerable:Boolean(i)},nodes:{value:u||void 0},source:{value:s||void 0},positions:{value:f||void 0},originalError:{value:o},extensions:{value:h||void 0,enumerable:Boolean(h)}}),o&&o.stack?Object.defineProperty(this,"stack",{value:o.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,p):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}function m(e,t,r){return new p("Syntax Error: ".concat(r),void 0,e,[t])}function f(e){var t=e.split(/\r\n|[\n\r]/g),r=function(e){for(var t=null,r=1;r<e.length;r++){var n=e[r],i=c(n);if(i!==n.length&&((null===t||i<t)&&0===(t=i)))break}return null===t?0:t}(t);if(0!==r)for(var n=1;n<t.length;n++)t[n]=t[n].slice(r);for(;0<t.length&&h(t[0]);)t.shift();for(;0<t.length&&h(t[t.length-1]);)t.pop();return t.join("\n")}function c(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function h(e){return c(e)===e.length}function d(e,t){var r=new O(E.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:r,token:r,line:1,lineStart:0,advance:b,lookahead:g}}function b(){return this.lastToken=this.token,this.token=this.lookahead()}function g(){var e=this.token;if(e.kind!==E.EOF)for(;(e=e.next||(e.next=k(this,e))).kind===E.COMMENT;);return e}t=i,"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}}),p.prototype=Object.create(Error.prototype,{constructor:{value:p},name:{value:"GraphQLError"},toString:{value:function(){return function(e){var t=[];if(e.nodes){var r=!0,n=!1,i=void 0;try{for(var o,a=e.nodes[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var u=o.value;u.loc&&t.push(y(u.loc.source,v(u.loc.source,u.loc.start)))}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}}else if(e.source&&e.locations){var s=e.source,c=!0,l=!1,f=void 0;try{for(var h,p=e.locations[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var d=h.value;t.push(y(s,d))}}catch(e){l=!0,f=e}finally{try{c||null==p.return||p.return()}finally{if(l)throw f}}}return 0===t.length?e.message:[e.message].concat(t).join("\n\n")+"\n"}(this)}}});var E=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function w(e){var t=e.value;return t?"".concat(e.kind,' "').concat(t,'"'):e.kind}function O(e,t,r,n,i,o,a){this.kind=e,this.start=t,this.end=r,this.line=n,this.column=i,this.value=a,this.prev=o,this.next=null}function S(e){return isNaN(e)?E.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function k(e,t){var r=e.source,n=r.body,i=n.length,o=function(e,t,r){var n=e.length,i=t;for(;i<n;){var o=e.charCodeAt(i);if(9===o||32===o||44===o||65279===o)++i;else if(10===o)++i,++r.line,r.lineStart=i;else{if(13!==o)break;10===e.charCodeAt(i+1)?i+=2:++i,++r.line,r.lineStart=i}}return i}(n,t.end,e),a=e.line,u=1+o-e.lineStart;if(i<=o)return new O(E.EOF,i,i,a,u,t);var s=n.charCodeAt(o);switch(s){case 33:return new O(E.BANG,o,o+1,a,u,t);case 35:return function(e,t,r,n,i){var o,a=e.body,u=t;for(;o=a.charCodeAt(++u),!isNaN(o)&&(31<o||9===o););return new O(E.COMMENT,t,u,r,n,i,a.slice(t+1,u))}(r,o,a,u,t);case 36:return new O(E.DOLLAR,o,o+1,a,u,t);case 38:return new O(E.AMP,o,o+1,a,u,t);case 40:return new O(E.PAREN_L,o,o+1,a,u,t);case 41:return new O(E.PAREN_R,o,o+1,a,u,t);case 46:if(46===n.charCodeAt(o+1)&&46===n.charCodeAt(o+2))return new O(E.SPREAD,o,o+3,a,u,t);break;case 58:return new O(E.COLON,o,o+1,a,u,t);case 61:return new O(E.EQUALS,o,o+1,a,u,t);case 64:return new O(E.AT,o,o+1,a,u,t);case 91:return new O(E.BRACKET_L,o,o+1,a,u,t);case 93:return new O(E.BRACKET_R,o,o+1,a,u,t);case 123:return new O(E.BRACE_L,o,o+1,a,u,t);case 124:return new O(E.PIPE,o,o+1,a,u,t);case 125:return new O(E.BRACE_R,o,o+1,a,u,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,r,n,i){var o=e.body,a=o.length,u=t+1,s=0;for(;u!==a&&!isNaN(s=o.charCodeAt(u))&&(95===s||48<=s&&s<=57||65<=s&&s<=90||97<=s&&s<=122);)++u;return new O(E.NAME,t,u,r,n,i,o.slice(t,u))}(r,o,a,u,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,r,n,i,o){var a=e.body,u=r,s=t,c=!1;45===u&&(u=a.charCodeAt(++s));if(48===u){if(48<=(u=a.charCodeAt(++s))&&u<=57)throw m(e,s,"Invalid number, unexpected digit after 0: ".concat(S(u),"."))}else s=I(e,s,u),u=a.charCodeAt(s);46===u&&(c=!0,u=a.charCodeAt(++s),s=I(e,s,u),u=a.charCodeAt(s));69!==u&&101!==u||(c=!0,43!==(u=a.charCodeAt(++s))&&45!==u||(u=a.charCodeAt(++s)),s=I(e,s,u));return new O(c?E.FLOAT:E.INT,t,s,n,i,o,a.slice(t,s))}(r,o,s,a,u,t);case 34:return 34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)?function(e,t,r,n,i,o){var a=e.body,u=t+3,s=u,c=0,l="";for(;u<a.length&&!isNaN(c=a.charCodeAt(u));){if(34===c&&34===a.charCodeAt(u+1)&&34===a.charCodeAt(u+2))return l+=a.slice(s,u),new O(E.BLOCK_STRING,t,u+3,r,n,i,f(l));if(c<32&&9!==c&&10!==c&&13!==c)throw m(e,u,"Invalid character within String: ".concat(S(c),"."));10===c?(++u,++o.line,o.lineStart=u):13===c?(10===a.charCodeAt(u+1)?u+=2:++u,++o.line,o.lineStart=u):92===c&&34===a.charCodeAt(u+1)&&34===a.charCodeAt(u+2)&&34===a.charCodeAt(u+3)?(l+=a.slice(s,u)+'"""',s=u+=4):++u}throw m(e,u,"Unterminated string.")}(r,o,a,u,t,e):function(e,t,r,n,i){var o=e.body,a=t+1,u=a,s=0,c="";for(;a<o.length&&!isNaN(s=o.charCodeAt(a))&&10!==s&&13!==s;){if(34===s)return c+=o.slice(u,a),new O(E.STRING,t,a+1,r,n,i,c);if(s<32&&9!==s)throw m(e,a,"Invalid character within String: ".concat(S(s),"."));if(++a,92===s){switch(c+=o.slice(u,a-1),s=o.charCodeAt(a)){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:var l=(f=o.charCodeAt(a+1),h=o.charCodeAt(a+2),p=o.charCodeAt(a+3),d=o.charCodeAt(a+4),T(f)<<12|T(h)<<8|T(p)<<4|T(d));if(l<0)throw m(e,a,"Invalid character escape sequence: "+"\\u".concat(o.slice(a+1,a+5),"."));c+=String.fromCharCode(l),a+=4;break;default:throw m(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(s),"."))}u=++a}}var f,h,p,d;throw m(e,a,"Unterminated string.")}(r,o,a,u,t)}throw m(r,o,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(S(e),".");return 39!==e?"Cannot parse the unexpected character ".concat(S(e),"."):"Unexpected single quote character ('), did you mean to use a double quote (\")?"}(s))}function I(e,t,r){var n=e.body,i=t,o=r;if(48<=o&&o<=57){for(;48<=(o=n.charCodeAt(++i))&&o<=57;);return i}throw m(e,i,"Invalid number, expected digit but got: ".concat(S(o),"."))}function T(e){return 48<=e&&e<=57?e-48:65<=e&&e<=70?e-55:97<=e&&e<=102?e-87:-1}e(O,function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}});var R=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),_=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function A(e){var t=ve(e,E.NAME);return{kind:R.NAME,value:t.value,loc:he(e,t)}}function x(e){if(de(e,E.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return Q(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return $(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===E.NAME)switch(t.value){case"schema":return function(e){var t=e.token;me(e,"extend"),me(e,"schema");var r=z(e,!0),n=de(e,E.BRACE_L)?we(e,E.BRACE_L,te,E.BRACE_R):[];if(0!==r.length||0!==n.length)return{kind:R.SCHEMA_EXTENSION,directives:r,operationTypes:n,loc:he(e,t)};throw ge(e)}(e);case"scalar":return function(e){var t=e.token;me(e,"extend"),me(e,"scalar");var r=A(e),n=z(e,!0);if(0!==n.length)return{kind:R.SCALAR_TYPE_EXTENSION,name:r,directives:n,loc:he(e,t)};throw ge(e)}(e);case"type":return function(e){var t=e.token;me(e,"extend"),me(e,"type");var r=A(e),n=re(e),i=z(e,!0),o=ne(e);if(0!==n.length||0!==i.length||0!==o.length)return{kind:R.OBJECT_TYPE_EXTENSION,name:r,interfaces:n,directives:i,fields:o,loc:he(e,t)};throw ge(e)}(e);case"interface":return function(e){var t=e.token;me(e,"extend"),me(e,"interface");var r=A(e),n=z(e,!0),i=ne(e);if(0!==n.length||0!==i.length)return{kind:R.INTERFACE_TYPE_EXTENSION,name:r,directives:n,fields:i,loc:he(e,t)};throw ge(e)}(e);case"union":return function(e){var t=e.token;me(e,"extend"),me(e,"union");var r=A(e),n=z(e,!0),i=ue(e);if(0!==n.length||0!==i.length)return{kind:R.UNION_TYPE_EXTENSION,name:r,directives:n,types:i,loc:he(e,t)};throw ge(e)}(e);case"enum":return function(e){var t=e.token;me(e,"extend"),me(e,"enum");var r=A(e),n=z(e,!0),i=se(e);if(0!==n.length||0!==i.length)return{kind:R.ENUM_TYPE_EXTENSION,name:r,directives:n,values:i,loc:he(e,t)};throw ge(e)}(e);case"input":return function(e){var t=e.token;me(e,"extend"),me(e,"input");var r=A(e),n=z(e,!0),i=le(e);if(0!==n.length||0!==i.length)return{kind:R.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:n,fields:i,loc:he(e,t)};throw ge(e)}(e)}throw ge(e,t)}(e)}else{if(de(e,E.BRACE_L))return Q(e);if(Z(e))return $(e)}throw ge(e)}function Q(e){if(de(e,E.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return q(e);case"fragment":return function(e){var t=e.token;if(me(e,"fragment"),e.options.experimentalFragmentVariables)return{kind:R.FRAGMENT_DEFINITION,name:U(e),variableDefinitions:D(e),typeCondition:(me(e,"on"),X(e)),directives:z(e,!1),selectionSet:M(e),loc:he(e,t)};return{kind:R.FRAGMENT_DEFINITION,name:U(e),typeCondition:(me(e,"on"),X(e)),directives:z(e,!1),selectionSet:M(e),loc:he(e,t)}}(e)}else if(de(e,E.BRACE_L))return q(e);throw ge(e)}function q(e){var t=e.token;if(de(e,E.BRACE_L))return{kind:R.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:M(e),loc:he(e,t)};var r,n=C(e);return de(e,E.NAME)&&(r=A(e)),{kind:R.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:D(e),directives:z(e,!1),selectionSet:M(e),loc:he(e,t)}}function C(e){var t=ve(e,E.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw ge(e,t)}function D(e){return de(e,E.PAREN_L)?we(e,E.PAREN_L,F,E.PAREN_R):[]}function F(e){var t=e.token;return{kind:R.VARIABLE_DEFINITION,variable:P(e),type:(ve(e,E.COLON),H(e)),defaultValue:ye(e,E.EQUALS)?G(e,!0):void 0,directives:z(e,!0),loc:he(e,t)}}function P(e){var t=e.token;return ve(e,E.DOLLAR),{kind:R.VARIABLE,name:A(e),loc:he(e,t)}}function M(e){var t=e.token;return{kind:R.SELECTION_SET,selections:we(e,E.BRACE_L,L,E.BRACE_R),loc:he(e,t)}}function L(e){return de(e,E.SPREAD)?function(e){var t=e.token;ve(e,E.SPREAD);var r=be(e,"on");return r||!de(e,E.NAME)?{kind:R.INLINE_FRAGMENT,typeCondition:r?X(e):void 0,directives:z(e,!1),selectionSet:M(e),loc:he(e,t)}:{kind:R.FRAGMENT_SPREAD,name:U(e),directives:z(e,!1),loc:he(e,t)}}(e):function(e){var t,r,n=e.token,i=A(e);r=ye(e,E.COLON)?(t=i,A(e)):i;return{kind:R.FIELD,alias:t,name:r,arguments:j(e,!1),directives:z(e,!1),selectionSet:de(e,E.BRACE_L)?M(e):void 0,loc:he(e,n)}}(e)}function j(e,t){var r=t?B:V;return de(e,E.PAREN_L)?we(e,E.PAREN_L,r,E.PAREN_R):[]}function V(e){var t=e.token,r=A(e);return ve(e,E.COLON),{kind:R.ARGUMENT,name:r,value:G(e,!1),loc:he(e,t)}}function B(e){var t=e.token;return{kind:R.ARGUMENT,name:A(e),value:(ve(e,E.COLON),J(e)),loc:he(e,t)}}function U(e){if("on"===e.token.value)throw ge(e);return A(e)}function G(e,t){var r=e.token;switch(r.kind){case E.BRACKET_L:return function(e,t){var r=e.token,n=t?J:K;return{kind:R.LIST,values:Ee(e,E.BRACKET_L,n,E.BRACKET_R),loc:he(e,r)}}(e,t);case E.BRACE_L:return function(e,t){var r=e.token;return{kind:R.OBJECT,fields:Ee(e,E.BRACE_L,function(){return function(e,t){var r=e.token,n=A(e);return ve(e,E.COLON),{kind:R.OBJECT_FIELD,name:n,value:G(e,t),loc:he(e,r)}}(e,t)},E.BRACE_R),loc:he(e,r)}}(e,t);case E.INT:return e.advance(),{kind:R.INT,value:r.value,loc:he(e,r)};case E.FLOAT:return e.advance(),{kind:R.FLOAT,value:r.value,loc:he(e,r)};case E.STRING:case E.BLOCK_STRING:return Y(e);case E.NAME:return"true"===r.value||"false"===r.value?(e.advance(),{kind:R.BOOLEAN,value:"true"===r.value,loc:he(e,r)}):"null"===r.value?(e.advance(),{kind:R.NULL,loc:he(e,r)}):(e.advance(),{kind:R.ENUM,value:r.value,loc:he(e,r)});case E.DOLLAR:if(!t)return P(e)}throw ge(e)}function Y(e){var t=e.token;return e.advance(),{kind:R.STRING,value:t.value,block:t.kind===E.BLOCK_STRING,loc:he(e,t)}}function J(e){return G(e,!0)}function K(e){return G(e,!1)}function z(e,t){for(var r=[];de(e,E.AT);)r.push(W(e,t));return r}function W(e,t){var r=e.token;return ve(e,E.AT),{kind:R.DIRECTIVE,name:A(e),arguments:j(e,t),loc:he(e,r)}}function H(e){var t,r=e.token;return t=ye(e,E.BRACKET_L)?(t=H(e),ve(e,E.BRACKET_R),{kind:R.LIST_TYPE,type:t,loc:he(e,r)}):X(e),ye(e,E.BANG)?{kind:R.NON_NULL_TYPE,type:t,loc:he(e,r)}:t}function X(e){var t=e.token;return{kind:R.NAMED_TYPE,name:A(e),loc:he(e,t)}}function $(e){var t=Z(e)?e.lookahead():e.token;if(t.kind===E.NAME)switch(t.value){case"schema":return function(e){var t=e.token;me(e,"schema");var r=z(e,!0),n=we(e,E.BRACE_L,te,E.BRACE_R);return{kind:R.SCHEMA_DEFINITION,directives:r,operationTypes:n,loc:he(e,t)}}(e);case"scalar":return function(e){var t=e.token,r=ee(e);me(e,"scalar");var n=A(e),i=z(e,!0);return{kind:R.SCALAR_TYPE_DEFINITION,description:r,name:n,directives:i,loc:he(e,t)}}(e);case"type":return function(e){var t=e.token,r=ee(e);me(e,"type");var n=A(e),i=re(e),o=z(e,!0),a=ne(e);return{kind:R.OBJECT_TYPE_DEFINITION,description:r,name:n,interfaces:i,directives:o,fields:a,loc:he(e,t)}}(e);case"interface":return function(e){var t=e.token,r=ee(e);me(e,"interface");var n=A(e),i=z(e,!0),o=ne(e);return{kind:R.INTERFACE_TYPE_DEFINITION,description:r,name:n,directives:i,fields:o,loc:he(e,t)}}(e);case"union":return function(e){var t=e.token,r=ee(e);me(e,"union");var n=A(e),i=z(e,!0),o=ue(e);return{kind:R.UNION_TYPE_DEFINITION,description:r,name:n,directives:i,types:o,loc:he(e,t)}}(e);case"enum":return function(e){var t=e.token,r=ee(e);me(e,"enum");var n=A(e),i=z(e,!0),o=se(e);return{kind:R.ENUM_TYPE_DEFINITION,description:r,name:n,directives:i,values:o,loc:he(e,t)}}(e);case"input":return function(e){var t=e.token,r=ee(e);me(e,"input");var n=A(e),i=z(e,!0),o=le(e);return{kind:R.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:n,directives:i,fields:o,loc:he(e,t)}}(e);case"directive":return function(e){var t=e.token,r=ee(e);me(e,"directive"),ve(e,E.AT);var n=A(e),i=oe(e);me(e,"on");var o=function(e){ye(e,E.PIPE);var t=[];for(;t.push(fe(e)),ye(e,E.PIPE););return t}(e);return{kind:R.DIRECTIVE_DEFINITION,description:r,name:n,arguments:i,locations:o,loc:he(e,t)}}(e)}throw ge(e,t)}function Z(e){return de(e,E.STRING)||de(e,E.BLOCK_STRING)}function ee(e){if(Z(e))return Y(e)}function te(e){var t=e.token,r=C(e);ve(e,E.COLON);var n=X(e);return{kind:R.OPERATION_TYPE_DEFINITION,operation:r,type:n,loc:he(e,t)}}function re(e){var t=[];if(be(e,"implements"))for(ye(e,E.AMP);t.push(X(e)),ye(e,E.AMP)||e.options.allowLegacySDLImplementsInterfaces&&de(e,E.NAME););return t}function ne(e){return e.options.allowLegacySDLEmptyFields&&de(e,E.BRACE_L)&&e.lookahead().kind===E.BRACE_R?(e.advance(),e.advance(),[]):de(e,E.BRACE_L)?we(e,E.BRACE_L,ie,E.BRACE_R):[]}function ie(e){var t=e.token,r=ee(e),n=A(e),i=oe(e);ve(e,E.COLON);var o=H(e),a=z(e,!0);return{kind:R.FIELD_DEFINITION,description:r,name:n,arguments:i,type:o,directives:a,loc:he(e,t)}}function oe(e){return de(e,E.PAREN_L)?we(e,E.PAREN_L,ae,E.PAREN_R):[]}function ae(e){var t=e.token,r=ee(e),n=A(e);ve(e,E.COLON);var i,o=H(e);ye(e,E.EQUALS)&&(i=J(e));var a=z(e,!0);return{kind:R.INPUT_VALUE_DEFINITION,description:r,name:n,type:o,defaultValue:i,directives:a,loc:he(e,t)}}function ue(e){var t=[];if(ye(e,E.EQUALS))for(ye(e,E.PIPE);t.push(X(e)),ye(e,E.PIPE););return t}function se(e){return de(e,E.BRACE_L)?we(e,E.BRACE_L,ce,E.BRACE_R):[]}function ce(e){var t=e.token,r=ee(e),n=A(e),i=z(e,!0);return{kind:R.ENUM_VALUE_DEFINITION,description:r,name:n,directives:i,loc:he(e,t)}}function le(e){return de(e,E.BRACE_L)?we(e,E.BRACE_L,ae,E.BRACE_R):[]}function fe(e){var t=e.token,r=A(e);if(_.hasOwnProperty(r.value))return r;throw ge(e,t)}function he(e,t){if(!e.options.noLocation)return new pe(t,e.lastToken,e.source)}function pe(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}function de(e,t){return e.token.kind===t}function ve(e,t){var r=e.token;if(r.kind===t)return e.advance(),r;throw m(e.source,r.start,"Expected ".concat(t,", found ").concat(w(r)))}function ye(e,t){var r=e.token;if(r.kind===t)return e.advance(),r}function me(e,t){var r=e.token;if(r.kind===E.NAME&&r.value===t)return e.advance(),r;throw m(e.source,r.start,'Expected "'.concat(t,'", found ').concat(w(r)))}function be(e,t){var r=e.token;if(r.kind===E.NAME&&r.value===t)return e.advance(),r}function ge(e,t){var r=t||e.token;return m(e.source,r.start,"Unexpected ".concat(w(r)))}function Ee(e,t,r,n){ve(e,t);for(var i=[];!ye(e,n);)i.push(r(e));return i}function we(e,t,r,n){ve(e,t);for(var i=[r(e)];!ye(e,n);)i.push(r(e));return i}function Oe(e,t){return e(t={exports:{}},t.exports),t.exports}function Se(e){return e&&e.default||e}e(pe,function(){return{start:this.start,end:this.end}});var ke=Se(Object.freeze({parse:function(e,t){var r="string"==typeof e?new i(e):e;if(!(r instanceof i))throw new TypeError("Must provide Source. Received: ".concat(N(r)));return function(e){var t=e.token;return{kind:R.DOCUMENT,definitions:we(e,E.SOF,x,E.EOF),loc:he(e,t)}}(d(r,t||{}))},parseValue:function(e,t){var r=d("string"==typeof e?new i(e):e,t||{});ve(r,E.SOF);var n=G(r,!1);return ve(r,E.EOF),n},parseType:function(e,t){var r=d("string"==typeof e?new i(e):e,t||{});ve(r,E.SOF);var n=H(r);return ve(r,E.EOF),n},parseConstValue:J,parseTypeReference:H,parseNamedType:X})).parse;function Ie(e){return e.replace(/[\s,]+/g," ").trim()}var Te={},Ne={};var Re=!0;var _e=!1;function Ae(e){var t=Ie(e);if(Te[t])return Te[t];var r=ke(e,{experimentalFragmentVariables:_e});if(!r||"Document"!==r.kind)throw new Error("Not a valid GraphQL document.");return r=function t(e,r){var n=Object.prototype.toString.call(e);if("[object Array]"===n)return e.map(function(e){return t(e,r)});if("[object Object]"!==n)throw new Error("Unexpected input.");r&&e.loc&&delete e.loc,e.loc&&(delete e.loc.startToken,delete e.loc.endToken);var i,o,a,u=Object.keys(e);for(i in u)u.hasOwnProperty(i)&&(o=e[u[i]],"[object Object]"!==(a=Object.prototype.toString.call(o))&&"[object Array]"!==a||(e[u[i]]=t(o,!0)));return e}(r=function(e){for(var t,r={},n=[],i=0;i<e.definitions.length;i++){var o=e.definitions[i];if("FragmentDefinition"===o.kind){var a=o.name.value,u=Ie((t=o.loc).source.body.substring(t.start,t.end));Ne.hasOwnProperty(a)&&!Ne[a][u]?(Re&&console.warn("Warning: fragment with name "+a+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),Ne[a][u]=!0):Ne.hasOwnProperty(a)||(Ne[a]={},Ne[a][u]=!0),r[u]||(r[u]=!0,n.push(o))}else n.push(o)}return e.definitions=n,e}(r),!1),Te[t]=r}function xe(){for(var e=Array.prototype.slice.call(arguments),t=e[0],r="string"==typeof t?t:t[0],n=1;n<e.length;n++)e[n]&&e[n].kind&&"Document"===e[n].kind?r+=e[n].loc.source.body:r+=e[n],r+=t[n];return Ae(r)}(xe.default=xe).resetCaches=function(){Te={},Ne={}},xe.disableFragmentWarnings=function(){Re=!1},xe.enableExperimentalFragmentVariables=function(){_e=!0},xe.disableExperimentalFragmentVariables=function(){_e=!1};var Qe=xe,qe=function(e,t){return(qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function Ce(e,t){function r(){this.constructor=e}qe(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var De=function(){return(De=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Fe(o,a,u,s){return new(u||(u=Promise))(function(e,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function n(e){try{i(s.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new u(function(e){e(t.value)}).then(r,n)}i((s=s.apply(o,a||[])).next())})}function Pe(r,n){var i,o,a,e,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,o=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(a=0<(a=u.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){u.label=t[1];break}if(6===t[0]&&u.label<a[1]){u.label=a[1],a=t;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(t);break}a[2]&&u.ops.pop(),u.trys.pop();continue}t=n.call(r,u)}catch(e){t=[6,e],o=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var Me={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Le={};function je(e,t,r){var n=2<arguments.length&&void 0!==r?r:Me,i=void 0,o=Array.isArray(e),a=[e],u=-1,s=[],c=void 0,l=void 0,f=void 0,h=[],p=[],d=e;do{var v=++u===a.length,y=v&&0!==s.length;if(v){if(l=0===p.length?void 0:h[h.length-1],c=f,f=p.pop(),y){if(o)c=c.slice();else{for(var m={},b=0,g=Object.keys(c);b<g.length;b++){var E=g[b];m[E]=c[E]}c=m}for(var w=0,O=0;O<s.length;O++){var S=s[O][0],k=s[O][1];o&&(S-=w),o&&null===k?(c.splice(S,1),w++):c[S]=k}}u=i.index,a=i.keys,s=i.edits,o=i.inArray,i=i.prev}else{if(l=f?o?u:a[u]:void 0,null==(c=f?f[l]:d))continue;f&&h.push(l)}var I=void 0;if(!Array.isArray(c)){if(!Ve(c))throw new Error("Invalid AST Node: "+N(c));var T=Be(t,c.kind,v);if(T){if((I=T.call(t,c,l,f,h,p))===Le)break;if(!1===I){if(!v){h.pop();continue}}else if(void 0!==I&&(s.push([l,I]),!v)){if(!Ve(I)){h.pop();continue}c=I}}}void 0===I&&y&&s.push([l,c]),v?h.pop():(i={inArray:o,index:u,keys:a,edits:s,prev:i},a=(o=Array.isArray(c))?c:n[c.kind]||[],u=-1,s=[],f&&p.push(f),f=c)}while(void 0!==i);return 0!==s.length&&(d=s[s.length-1][1]),d}function Ve(e){return Boolean(e&&"string"==typeof e.kind)}function Be(e,t,r){var n=e[t];if(n){if(!r&&"function"==typeof n)return n;var i=r?n.leave:n.enter;if("function"==typeof i)return i}else{var o=r?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}var Ue,Ge,Ye="Invariant Violation",Je=Object.setPrototypeOf,Ke=void 0===Je?function(e,t){return e.__proto__=t,e}:Je,ze=(Ce(We,Ue=Error),We);function We(e){void 0===e&&(e=Ye);var t=Ue.call(this,e)||this;return t.framesToPop=1,t.name=Ye,Ke(t,We.prototype),t}function He(e,t){if(!e)throw new ze(t)}(Ge=He||(He={})).warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.warn.apply(console,e)},Ge.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.error.apply(console,e)};var Xe=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var o,s="boolean"==typeof t.cycles&&t.cycles,c=t.cmp&&(o=t.cmp,function(i){return function(e,t){var r={key:e,value:i[e]},n={key:t,value:i[t]};return o(r,n)}}),l=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,n;if(Array.isArray(t)){for(n="[",r=0;r<t.length;r++)r&&(n+=","),n+=e(t[r])||"null";return n+"]"}if(null===t)return"null";if(-1!==l.indexOf(t)){if(s)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var i=l.push(t)-1,o=Object.keys(t).sort(c&&c(t));for(n="",r=0;r<o.length;r++){var a=o[r],u=e(t[a]);u&&(n&&(n+=","),n+=JSON.stringify(a)+":"+u)}return l.splice(i,1),"{"+n+"}"}}(e)};function $e(e,r,t,n){if(function(e){return"IntValue"===e.kind}(t)||function(e){return"FloatValue"===e.kind}(t))e[r.value]=Number(t.value);else if(function(e){return"BooleanValue"===e.kind}(t)||function(e){return"StringValue"===e.kind}(t))e[r.value]=t.value;else if(function(e){return"ObjectValue"===e.kind}(t)){var i={};t.fields.map(function(e){return $e(i,e.name,e.value,n)}),e[r.value]=i}else if(function(e){return"Variable"===e.kind}(t)){var o=(n||{})[t.name.value];e[r.value]=o}else if(function(e){return"ListValue"===e.kind}(t))e[r.value]=t.values.map(function(e){var t={};return $e(t,r,e,n),t[r.value]});else if(function(e){return"EnumValue"===e.kind}(t))e[r.value]=t.value;else{if(!function(e){return"NullValue"===e.kind}(t))throw new ze;e[r.value]=null}}var Ze=["connection","include","skip","client","rest","export"];function et(e,t,r){if(r&&r.connection&&r.connection.key){if(r.connection.filter&&0<r.connection.filter.length){var n=r.connection.filter?r.connection.filter:[];n.sort();var i=t,o={};return n.forEach(function(e){o[e]=i[e]}),r.connection.key+"("+JSON.stringify(o)+")"}return r.connection.key}var a=e;if(t){var u=Xe(t);a+="("+u+")"}return r&&Object.keys(r).forEach(function(e){-1===Ze.indexOf(e)&&(r[e]&&Object.keys(r[e]).length?a+="@"+e+"("+JSON.stringify(r[e])+")":a+="@"+e)}),a}function tt(e,n){if(e.arguments&&e.arguments.length){var i={};return e.arguments.forEach(function(e){var t=e.name,r=e.value;return $e(i,t,r,n)}),i}return null}function rt(e){return e.alias?e.alias.value:e.name.value}function nt(e){return"Field"===e.kind}function it(e){return"InlineFragment"===e.kind}function ot(e){return e&&"id"===e.type&&"boolean"==typeof e.generated}function at(e,t){return void 0===t&&(t=!1),De({type:"id",generated:t},"string"==typeof e?{id:e,typename:void 0}:e)}function ut(e,a){if(void 0===a&&(a={}),!e.directives)return!0;var u=!0;return e.directives.forEach(function(e){if("skip"===e.name.value||"include"===e.name.value){var t=e.arguments||[],r=e.name.value;He(1===t.length);var n=t[0];He(n.name&&"if"===n.name.value);var i=t[0].value,o=!1;i&&"BooleanValue"===i.kind?o=i.value:(He("Variable"===i.kind),He(void 0!==(o=a[i.name.value]))),"skip"===r&&(o=!o),o||(u=!1)}}),u}function st(t,e){return function(e){var t=[];return je(e,{Directive:function(e){t.push(e.name.value)}}),t}(e).some(function(e){return-1<t.indexOf(e)})}function ct(e){return e&&st(["client"],e)&&st(["export"],e)}function lt(e,t){var r=t,n=[];return e.definitions.forEach(function(e){if("OperationDefinition"===e.kind)throw new ze;"FragmentDefinition"===e.kind&&n.push(e)}),void 0===r&&(He(1===n.length),r=n[0].name.value),De({},e,{definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}].concat(e.definitions)})}function ft(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(t){null!=t&&Object.keys(t).forEach(function(e){r[e]=t[e]})}),r}function ht(e){return He(e&&"Document"===e.kind),He(e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw new ze;return e}).length<=1),e}function pt(e){return ht(e),e.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function dt(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null}function vt(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function yt(e){var t=pt(e);return He(t&&"query"===t.operation),t}function mt(e){var t;ht(e);for(var r=0,n=e.definitions;r<n.length;r++){var i=n[r];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw new ze}function bt(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t}function gt(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter(function(e){return e.defaultValue}).map(function(e){var t=e.variable,r=e.defaultValue,n={};return $e(n,t.name,r),n});return ft.apply(void 0,[{}].concat(t))}return{}}function Et(r,n,e){var i=0;return r.forEach(function(e,t){n.call(this,e,t,r)&&(r[i++]=e)},e),r.length=i,r}var wt={kind:"Field",name:{kind:"Name",value:"__typename"}};function Ot(e){return function t(e,r){return e.selectionSet.selections.every(function(e){return"FragmentSpread"===e.kind&&t(r[e.name.value],r)})}(pt(e)||function(e){He("Document"===e.kind),He(e.definitions.length<=1);var t=e.definitions[0];return He("FragmentDefinition"===t.kind),t}(e),bt(vt(e)))?null:e}function St(e){return function(t){return e.some(function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)})}}function kt(t,e){var n=Object.create(null),r=[],i=Object.create(null),o=[],a=Ot(je(e,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(e){if(t&&e.directives&&(t.some(function(e){return e.remove})&&e.directives&&e.directives.some(St(t))))return e.arguments&&e.arguments.forEach(function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})}),e.selectionSet&&function t(e){var r=[];e.selections.forEach(function(e){"Field"!==e.kind&&"InlineFragment"!==e.kind||!e.selectionSet?"FragmentSpread"===e.kind&&r.push(e):t(e.selectionSet).forEach(function(e){return r.push(e)})});return r}(e.selectionSet).forEach(function(e){o.push({name:e.name.value})}),null}},FragmentSpread:{enter:function(e){i[e.name.value]=!0}},Directive:{enter:function(e){if(St(t)(e))return null}}}));return a&&Et(r,function(e){return!n[e.name]}).length&&(a=function(r,e){var n=function(e){return function(t){return e.some(function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))})}}(r);return Ot(je(e,{OperationDefinition:{enter:function(e){return De({},e,{variableDefinitions:e.variableDefinitions.filter(function(t){return!r.some(function(e){return e.name===t.variable.name.value})})})}},Field:{enter:function(e){if(r.some(function(e){return e.remove})){var t=0;if(e.arguments.forEach(function(e){n(e)&&(t+=1)}),1===t)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,a)),a&&Et(o,function(e){return!i[e.name]}).length&&(a=function(e,t){function r(t){if(e.some(function(e){return e.name===t.name.value}))return null}return Ot(je(t,{FragmentSpread:{enter:r},FragmentDefinition:{enter:r}}))}(o,a)),a}var It={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some(function(e){return"key"===e.name.value})||console.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};var Tt=Object.prototype.toString;function Nt(e){return function r(t,n){switch(Tt.call(t)){case"[object Array]":if(n.has(t))return n.get(t);var i=t.slice(0);return n.set(t,i),i.forEach(function(e,t){i[t]=r(e,n)}),i;case"[object Object]":if(n.has(t))return n.get(t);var o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Object.keys(t).forEach(function(e){o[e]=r(t[e],n)}),o;default:return t}}(e,new Map)}function Rt(e){try{return e()}catch(e){console.error&&console.error(e)}}function _t(e){return e.errors&&e.errors.length}function At(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(null==e||"object"!=typeof e||null==t||"object"!=typeof t)return!1;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(!Object.prototype.hasOwnProperty.call(t,r))return!1;if(!At(e[r],t[r]))return!1}for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&!Object.prototype.hasOwnProperty.call(e,r))return!1;return!0}var xt=Object.prototype.hasOwnProperty;function Qt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return qt(e)}function qt(e){var t=e[0]||{},r=e.length;if(1<r){var n=[];t=Ft(t,n);for(var i=1;i<r;++i)t=Dt(t,e[i],n)}return t}function Ct(e){return null!==e&&"object"==typeof e}function Dt(n,i,o){return Ct(i)&&Ct(n)?(Object.isExtensible&&!Object.isExtensible(n)&&(n=Ft(n,o)),Object.keys(i).forEach(function(e){var t=i[e];if(xt.call(n,e)){var r=n[e];t!==r&&(n[e]=Dt(Ft(r,o),t,o))}else n[e]=t}),n):i}function Ft(e,t){return null!==e&&"object"==typeof e&&t.indexOf(e)<0&&(e=Array.isArray(e)?e.slice(0):De({__proto__:Object.getPrototypeOf(e)},e),t.push(e)),e}var Pt,Mt=Oe(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){return"function"==typeof Symbol}function a(e){return o()&&Boolean(Symbol[e])}function u(e){return a(e)?Symbol[e]:"@@"+e}o()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var c=u("iterator"),l=u("observable"),s=u("species");function f(e,t){var r=e[t];if(null!=r){if("function"!=typeof r)throw new TypeError(r+" is not a function");return r}}function h(e){var t=e.constructor;return void 0!==t&&null===(t=t[s])&&(t=void 0),void 0!==t?t:S}function p(e){p.log?p.log(e):setTimeout(function(){throw e})}function d(e){Promise.resolve().then(function(){try{e()}catch(e){p(e)}})}function v(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var r=f(t,"unsubscribe");r&&r.call(t)}}catch(e){p(e)}}function y(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function m(e,t,r){e._state="running";var n=e._observer;try{var i=f(n,t);switch(t){case"next":i&&i.call(n,r);break;case"error":if(y(e),!i)throw r;i.call(n,r);break;case"complete":y(e),i&&i.call(n)}}catch(e){p(e)}"closed"===e._state?v(e):"running"===e._state&&(e._state="ready")}function b(e,t,r){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:r}],void d(function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var r=0;r<t.length&&(m(e,t[r].type,t[r].value),"closed"!==e._state);++r);}}(e)})):void m(e,t,r);e._queue.push({type:t,value:r})}}var g=(r(E,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(y(this),v(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),E);function E(e,t){i(this,E),this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var r=new w(this);try{this._cleanup=t.call(void 0,r)}catch(e){r.error(e)}"initializing"===this._state&&(this._state="ready")}var w=(r(O,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),O);function O(e){i(this,O),this._subscription=e}var S=t.Observable=(r(k,[{key:"subscribe",value:function(e,t,r){return"object"==typeof e&&null!==e||(e={next:e,error:t,complete:r}),new g(e,this._subscriber)}},{key:"forEach",value:function(i){var o=this;return new Promise(function(e,t){if("function"==typeof i)var r=o.subscribe({next:function(e){try{i(e,n)}catch(e){t(e),r.unsubscribe()}},error:t,complete:e});else t(new TypeError(i+" is not a function"));function n(){r.unsubscribe(),e()}})}},{key:"map",value:function(r){var e=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");return new(h(this))(function(t){return e.subscribe({next:function(e){try{e=r(e)}catch(e){return t.error(e)}t.next(e)},error:function(e){t.error(e)},complete:function(){t.complete()}})})}},{key:"filter",value:function(r){var e=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");return new(h(this))(function(t){return e.subscribe({next:function(e){try{if(!r(e))return}catch(e){return t.error(e)}t.next(e)},error:function(e){t.error(e)},complete:function(){t.complete()}})})}},{key:"reduce",value:function(n,e){var t=this;if("function"!=typeof n)throw new TypeError(n+" is not a function");var r=h(this),i=1<arguments.length,o=!1,a=e;return new r(function(r){return t.subscribe({next:function(e){var t=!o;if(o=!0,!t||i)try{a=n(a,e)}catch(e){return r.error(e)}else a=e},error:function(e){r.error(e)},complete:function(){if(!o&&!i)return r.error(new TypeError("Cannot reduce an empty sequence"));r.next(a),r.complete()}})})}},{key:"concat",value:function(){for(var e=this,t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];var a=h(this);return new a(function(r){var n=void 0,i=0;return function e(t){n=t.subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){i===o.length?(n=void 0,r.complete()):e(a.from(o[i++]))}})}(e),function(){n&&(n.unsubscribe(),n=void 0)}})}},{key:"flatMap",value:function(o){var t=this;if("function"!=typeof o)throw new TypeError(o+" is not a function");var a=h(this);return new a(function(r){var n=[],e=t.subscribe({next:function(e){if(o)try{e=o(e)}catch(e){return r.error(e)}var t=a.from(e).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=n.indexOf(t);0<=e&&n.splice(e,1),i()}});n.push(t)},error:function(e){r.error(e)},complete:function(){i()}});function i(){e.closed&&0===n.length&&r.complete()}return function(){n.forEach(function(e){return e.unsubscribe()}),e.unsubscribe()}})}},{key:l,value:function(){return this}}],[{key:"from",value:function(u){var e="function"==typeof this?this:k;if(null==u)throw new TypeError(u+" is not an object");var s=f(u,l);if(s){var t=s.call(u);if(Object(t)!==t)throw new TypeError(t+" is not an object");return function(e){return e instanceof S}(t)&&t.constructor===e?t:new e(function(e){return t.subscribe(e)})}if(a("iterator")&&(s=f(u,c)))return new e(function(a){d(function(){if(!a.closed){var e=!0,t=!1,r=void 0;try{for(var n,i=s.call(u)[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var o=n.value;if(a.next(o),a.closed)return}}catch(e){t=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw r}}a.complete()}})});if(Array.isArray(u))return new e(function(t){d(function(){if(!t.closed){for(var e=0;e<u.length;++e)if(t.next(u[e]),t.closed)return;t.complete()}})});throw new TypeError(u+" is not observable")}},{key:"of",value:function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return new("function"==typeof this?this:k)(function(t){d(function(){if(!t.closed){for(var e=0;e<r.length;++e)if(t.next(r[e]),t.closed)return;t.complete()}})})}},{key:s,get:function(){return this}}]),k);function k(e){if(i(this,k),!(this instanceof k))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}o()&&Object.defineProperty(S,Symbol("extensions"),{value:{symbol:l,hostReportError:p},configurable:!0})});(Pt=Mt)&&Pt.__esModule&&Object.prototype.hasOwnProperty.call(Pt,"default")&&Pt.default;Mt.Observable;var Lt,jt,Vt=Mt.Observable,Bt="Invariant Violation",Ut=Object.setPrototypeOf,Gt=void 0===Ut?function(e,t){return e.__proto__=t,e}:Ut,Yt=(Ce(Jt,Lt=Error),Jt);function Jt(e){void 0===e&&(e=Bt);var t=Lt.call(this,"number"==typeof e?Bt+": "+e+" (see https://github.com/apollographql/invariant-packages)":e)||this;return t.framesToPop=1,t.name=Bt,Gt(t,Jt.prototype),t}function Kt(e,t){if(!e)throw new Yt(t)}function zt(e){return je(e,{leave:Wt})}(jt=Kt||(Kt={})).warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.warn.apply(console,e)},jt.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.error.apply(console,e)};var Wt={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return Xt(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,r=e.name,n=Zt("(",Xt(e.variableDefinitions,", "),")"),i=Xt(e.directives," "),o=e.selectionSet;return r||i||n||"query"!==t?Xt([t,Xt([r,n]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,r=e.type,n=e.defaultValue,i=e.directives;return t+": "+r+Zt(" = ",n)+Zt(" ",Xt(i," "))},SelectionSet:function(e){return $t(e.selections)},Field:function(e){var t=e.alias,r=e.name,n=e.arguments,i=e.directives,o=e.selectionSet;return Xt([Zt("",t,": ")+r+Zt("(",Xt(n,", "),")"),Xt(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+Zt(" ",Xt(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,r=e.directives,n=e.selectionSet;return Xt(["...",Zt("on ",t),Xt(r," "),n]," ")},FragmentDefinition:function(e){var t=e.name,r=e.typeCondition,n=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(Zt("(",Xt(n,", "),")")," ")+"on ".concat(r," ").concat(Zt("",Xt(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var r=e.value;return e.block?function(e,t,r){var n=1<arguments.length&&void 0!==t?t:"",i=2<arguments.length&&void 0!==r&&r,o=-1===e.indexOf("\n"),a=" "===e[0]||"\t"===e[0],u='"'===e[e.length-1],s=!o||u||i,c="";return!s||o&&a||(c+="\n"+n),c+=n?e.replace(/\n/g,"\n"+n):e,s&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}(r,"description"===t?"":"  "):JSON.stringify(r)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+Xt(e.values,", ")+"]"},ObjectValue:function(e){return"{"+Xt(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+Zt("(",Xt(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,r=e.operationTypes;return Xt(["schema",Xt(t," "),$t(r)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:Ht(function(e){return Xt(["scalar",e.name,Xt(e.directives," ")]," ")}),ObjectTypeDefinition:Ht(function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return Xt(["type",t,Zt("implements ",Xt(r," & ")),Xt(n," "),$t(i)]," ")}),FieldDefinition:Ht(function(e){var t=e.name,r=e.arguments,n=e.type,i=e.directives;return t+(rr(r)?Zt("(\n",er(Xt(r,"\n")),"\n)"):Zt("(",Xt(r,", "),")"))+": "+n+Zt(" ",Xt(i," "))}),InputValueDefinition:Ht(function(e){var t=e.name,r=e.type,n=e.defaultValue,i=e.directives;return Xt([t+": "+r,Zt("= ",n),Xt(i," ")]," ")}),InterfaceTypeDefinition:Ht(function(e){var t=e.name,r=e.directives,n=e.fields;return Xt(["interface",t,Xt(r," "),$t(n)]," ")}),UnionTypeDefinition:Ht(function(e){var t=e.name,r=e.directives,n=e.types;return Xt(["union",t,Xt(r," "),n&&0!==n.length?"= "+Xt(n," | "):""]," ")}),EnumTypeDefinition:Ht(function(e){var t=e.name,r=e.directives,n=e.values;return Xt(["enum",t,Xt(r," "),$t(n)]," ")}),EnumValueDefinition:Ht(function(e){return Xt([e.name,Xt(e.directives," ")]," ")}),InputObjectTypeDefinition:Ht(function(e){var t=e.name,r=e.directives,n=e.fields;return Xt(["input",t,Xt(r," "),$t(n)]," ")}),DirectiveDefinition:Ht(function(e){var t=e.name,r=e.arguments,n=e.locations;return"directive @"+t+(rr(r)?Zt("(\n",er(Xt(r,"\n")),"\n)"):Zt("(",Xt(r,", "),")"))+" on "+Xt(n," | ")}),SchemaExtension:function(e){var t=e.directives,r=e.operationTypes;return Xt(["extend schema",Xt(t," "),$t(r)]," ")},ScalarTypeExtension:function(e){return Xt(["extend scalar",e.name,Xt(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return Xt(["extend type",t,Zt("implements ",Xt(r," & ")),Xt(n," "),$t(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,r=e.directives,n=e.fields;return Xt(["extend interface",t,Xt(r," "),$t(n)]," ")},UnionTypeExtension:function(e){var t=e.name,r=e.directives,n=e.types;return Xt(["extend union",t,Xt(r," "),n&&0!==n.length?"= "+Xt(n," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,r=e.directives,n=e.values;return Xt(["extend enum",t,Xt(r," "),$t(n)]," ")},InputObjectTypeExtension:function(e){var t=e.name,r=e.directives,n=e.fields;return Xt(["extend input",t,Xt(r," "),$t(n)]," ")}};function Ht(t){return function(e){return Xt([e.description,t(e)],"\n")}}function Xt(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function $t(e){return e&&0!==e.length?"{\n"+er(Xt(e,"\n"))+"\n}":""}function Zt(e,t,r){return t?e+t+(r||""):""}function er(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function tr(e){return-1!==e.indexOf("\n")}function rr(e){return e&&e.some(tr)}var nr;Ce(ir,nr=Error);function ir(e,t){var r=nr.call(this,e)||this;return r.link=t,r}function or(e){return e.request.length<=1}function ar(t){return new Vt(function(e){e.error(t)})}function ur(e,t){var r=De({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){r=De({},r,"function"==typeof e?e(r):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return De({},r)}}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return function(e){return zt(e.query)+"|"+JSON.stringify(e.variables)+"|"+e.operationName}(t)}}),t}function sr(e,t){return t?t(e):Vt.of()}function cr(e){return"function"==typeof e?new dr(e):e}function lr(){return new dr(function(){return Vt.of()})}function fr(e){return 0===e.length?lr():e.map(cr).reduce(function(e,t){return e.concat(t)})}function hr(r,e,t){var n=cr(e),i=cr(t||new dr(sr));return or(n)&&or(i)?new dr(function(e){return r(e)?n.request(e)||Vt.of():i.request(e)||Vt.of()}):new dr(function(e,t){return r(e)?n.request(e,t)||Vt.of():i.request(e,t)||Vt.of()})}var pr,dr=(vr.prototype.split=function(e,t,r){return this.concat(hr(e,t,r||new vr(sr)))},vr.prototype.concat=function(e){return function(e,t){var r=cr(e);if(or(r))return r;var n=cr(t);return or(n)?new dr(function(e){return r.request(e,function(e){return n.request(e)||Vt.of()})||Vt.of()}):new dr(function(e,t){return r.request(e,function(e){return n.request(e,t)||Vt.of()})||Vt.of()})}(this,e)},vr.prototype.request=function(e,t){throw new Yt(1)},vr.empty=lr,vr.from=fr,vr.split=hr,vr.execute=yr,vr);function vr(e){e&&(this.request=e)}function yr(e,t){return e.request(ur(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?dt(t.query):""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(t.indexOf(i)<0)throw new Yt(2)}return e}(t))))||Vt.of()}pr="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")();var mr,br,gr,Er,wr,Or=("function"==typeof(br=pr.Symbol)?br.observable?mr=br.observable:(mr=br("observable"),br.observable=mr):mr="@@observable",mr),Sr=(Ce(kr,gr=dr),kr.prototype.request=function(e,t){var r=this;if(e.getContext().forceFetch)return t(e);var n=e.toKey();if(!this.inFlightRequestObservables.get(n)){var i,o=t(e),a=new Vt(function(e){return r.subscribers.has(n)||r.subscribers.set(n,new Set),r.subscribers.get(n).add(e),i||(i=o.subscribe({next:function(t){var e=r.subscribers.get(n);r.subscribers.delete(n),r.inFlightRequestObservables.delete(n),e&&(e.forEach(function(e){return e.next(t)}),e.forEach(function(e){return e.complete()}))},error:function(t){var e=r.subscribers.get(n);r.subscribers.delete(n),r.inFlightRequestObservables.delete(n),e&&e.forEach(function(e){return e.error(t)})}})),function(){r.subscribers.has(n)&&(r.subscribers.get(n).delete(e),0===r.subscribers.get(n).size&&(r.inFlightRequestObservables.delete(n),i&&i.unsubscribe()))}});this.inFlightRequestObservables.set(n,a)}return this.inFlightRequestObservables.get(n)},kr);function kr(){var e=null!==gr&&gr.apply(this,arguments)||this;return e.inFlightRequestObservables=new Map,e.subscribers=new Map,e}function Ir(e){return e<7}(wr=Er||(Er={}))[wr.loading=1]="loading",wr[wr.setVariables=2]="setVariables",wr[wr.fetchMore=3]="fetchMore",wr[wr.refetch=4]="refetch",wr[wr.poll=6]="poll",wr[wr.ready=7]="ready",wr[wr.error=8]="error";var Tr,Nr=(Ce(Rr,Tr=Vt),Rr.prototype[Or]=function(){return this},Rr.prototype["@@observable"]=function(){return this},Rr);function Rr(){return null!==Tr&&Tr.apply(this,arguments)||this}var _r,Ar,xr,Qr=(Ce(qr,_r=Error),qr);function qr(e){var t=e.graphQLErrors,r=e.networkError,n=e.errorMessage,i=e.extraInfo,o=_r.call(this,n)||this;return o.graphQLErrors=t||[],o.networkError=r||null,o.message=n||function(e){var r="";return Array.isArray(e.graphQLErrors)&&0!==e.graphQLErrors.length&&e.graphQLErrors.forEach(function(e){var t=e?e.message:"Error message not found.";r+="GraphQL error: "+t+"\n"}),e.networkError&&(r+="Network error: "+e.networkError.message+"\n"),r=r.replace(/\n$/,"")}(o),o.extraInfo=i,o.__proto__=qr.prototype,o}(xr=Ar||(Ar={}))[xr.normal=1]="normal",xr[xr.refetch=2]="refetch",xr[xr.poll=3]="poll";var Cr,Dr=(Ce(Fr,Cr=Nr),Fr.prototype.result=function(){var o=this;return new Promise(function(t,r){var n,i={next:function(e){t(e),o.observers.some(function(e){return e!==i})||o.queryManager.removeQuery(o.queryId),setTimeout(function(){n.unsubscribe()},0)},error:function(e){r(e)}};n=o.subscribe(i)})},Fr.prototype.currentResult=function(){var e=this.getCurrentResult();return void 0===e.data&&(e.data={}),e},Fr.prototype.getCurrentResult=function(){if(this.isTornDown)return{data:this.lastError?void 0:this.lastResult?this.lastResult.data:void 0,error:this.lastError,loading:!1,networkStatus:Er.error};var e=this.queryManager.queryStore.get(this.queryId);if(function(e,t){return void 0===t&&(t="none"),e&&(e.graphQLErrors&&0<e.graphQLErrors.length&&"none"===t||e.networkError)}(e,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:e.networkStatus,error:new Qr({graphQLErrors:e.graphQLErrors,networkError:e.networkError})};e&&e.variables&&(this.options.variables=Object.assign({},this.options.variables,e.variables));var t,r=this.queryManager.getCurrentQueryResult(this),n=r.data,i=r.partial,o=!e||e.networkStatus===Er.loading,a="network-only"===this.options.fetchPolicy&&o||i&&"cache-only"!==this.options.fetchPolicy,u={data:n,loading:Ir(t=e?e.networkStatus:a?Er.loading:Er.ready),networkStatus:t};return e&&e.graphQLErrors&&"all"===this.options.errorPolicy&&(u.errors=e.graphQLErrors),i||(this.lastResult=De({},u,{stale:!1}),this.lastResultSnapshot=Nt(this.lastResult)),De({},u,{partial:i})},Fr.prototype.isDifferentFromLastResult=function(e){var t=this.lastResultSnapshot;return!(t&&e&&t.networkStatus===e.networkStatus&&t.stale===e.stale&&At(t.data,e.data))},Fr.prototype.getLastResult=function(){return this.lastResult},Fr.prototype.getLastError=function(){return this.lastError},Fr.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},Fr.prototype.refetch=function(e){var t=this.options.fetchPolicy;if("cache-only"===t)return Promise.reject(new Error("cache-only fetchPolicy option should not be used together with query refetch."));At(this.variables,e)||(this.variables=Object.assign({},this.variables,e)),At(this.options.variables,this.variables)||(this.options.variables=Object.assign({},this.options.variables,this.variables));var r="network-only"===t||"no-cache"===t,n=De({},this.options,{fetchPolicy:r?t:"network-only"});return this.queryManager.fetchQuery(this.queryId,n,Ar.refetch).then(function(e){return e})},Fr.prototype.fetchMore=function(r){var n,i=this;return He(r.updateQuery),Promise.resolve().then(function(){var e=i.queryManager.generateQueryId();return(n=r.query?r:De({},i.options,r,{variables:Object.assign({},i.variables,r.variables)})).fetchPolicy="network-only",i.queryManager.fetchQuery(e,n,Ar.normal,i.queryId)}).then(function(t){return i.updateQuery(function(e){return r.updateQuery(e,{fetchMoreResult:t.data,variables:n.variables})}),t})},Fr.prototype.subscribeToMore=function(i){var t=this,r=this.queryManager.startGraphQLSubscription({query:i.document,variables:i.variables}).subscribe({next:function(n){i.updateQuery&&t.updateQuery(function(e,t){var r=t.variables;return i.updateQuery(e,{subscriptionData:n,variables:r})})},error:function(e){i.onError?i.onError(e):console.error("Unhandled GraphQL subscription error",e)}});return this.subscriptionHandles.push(r),function(){var e=t.subscriptionHandles.indexOf(r);0<=e&&(t.subscriptionHandles.splice(e,1),r.unsubscribe())}},Fr.prototype.setOptions=function(e){var t=this.options;this.options=Object.assign({},this.options,e),e.pollInterval?this.startPolling(e.pollInterval):0===e.pollInterval&&this.stopPolling();var r="network-only"!==t.fetchPolicy&&"network-only"===e.fetchPolicy||"cache-only"===t.fetchPolicy&&"cache-only"!==e.fetchPolicy||"standby"===t.fetchPolicy&&"standby"!==e.fetchPolicy||!1;return this.setVariables(this.options.variables,r,e.fetchResults)},Fr.prototype.setVariables=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!0),this.isTornDown=!1;var n=e||this.variables;return At(n,this.variables)&&!t?0!==this.observers.length&&r?this.result():new Promise(function(e){return e()}):(this.variables=n,this.options.variables=n,0===this.observers.length?new Promise(function(e){return e()}):this.queryManager.fetchQuery(this.queryId,De({},this.options,{variables:this.variables})).then(function(e){return e}))},Fr.prototype.updateQuery=function(e){var t=this.queryManager.getQueryWithPreviousResult(this.queryId),r=t.previousResult,n=t.variables,i=t.document,o=Rt(function(){return e(r,{variables:n})});o&&(this.queryManager.dataStore.markUpdateQueryResult(i,n,o),this.queryManager.broadcastQueries())},Fr.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},Fr.prototype.startPolling=function(e){Pr(this),this.options.pollInterval=e,this.queryManager.startPollingQuery(this.options,this.queryId)},Fr.prototype.onSubscribe=function(t){var e=this;return t._subscription&&t._subscription._observer&&!t._subscription._observer.error&&(t._subscription._observer.error=function(e){console.error("Unhandled error",e.message,e.stack)}),this.observers.push(t),t.next&&this.lastResult&&t.next(this.lastResult),t.error&&this.lastError&&t.error(this.lastError),1===this.observers.length&&this.setUpQuery(),function(){e.observers=e.observers.filter(function(e){return e!==t}),0===e.observers.length&&e.tearDownQuery()}},Fr.prototype.setUpQuery=function(){var e=this;this.shouldSubscribe&&this.queryManager.addObservableQuery(this.queryId,this),this.options.pollInterval&&(Pr(this),this.queryManager.startPollingQuery(this.options,this.queryId));var t={next:function(t){e.lastResult=t,e.lastResultSnapshot=Nt(t),e.observers.forEach(function(e){return e.next&&e.next(t)})},error:function(t){e.lastError=t,e.observers.forEach(function(e){return e.error&&e.error(t)})}};this.queryManager.startQuery(this.queryId,this.options,this.queryManager.queryListenerForObserver(this.queryId,this.options,t))},Fr.prototype.tearDownQuery=function(){this.isTornDown=!0,this.queryManager.stopPollingQuery(this.queryId),this.subscriptionHandles.forEach(function(e){return e.unsubscribe()}),this.subscriptionHandles=[],this.queryManager.removeObservableQuery(this.queryId),this.queryManager.stopQuery(this.queryId),this.observers=[]},Fr);function Fr(e){var t=e.queryManager,r=e.options,n=e.shouldSubscribe,i=void 0===n||n,o=Cr.call(this,function(e){return o.onSubscribe(e)})||this;return o.isTornDown=!1,o.options=r,o.variables=r.variables||{},o.queryId=t.generateQueryId(),o.shouldSubscribe=i,o.queryManager=t,o.observers=[],o.subscriptionHandles=[],o}function Pr(e){var t=e.options.fetchPolicy;He("cache-first"!==t&&"cache-only"!==t)}var Mr=(Lr.prototype.getStore=function(){return this.store},Lr.prototype.get=function(e){return this.store[e]},Lr.prototype.initMutation=function(e,t,r){this.store[e]={mutation:t,variables:r||{},loading:!0,error:null}},Lr.prototype.markMutationError=function(e,t){var r=this.store[e];r&&(r.loading=!1,r.error=t)},Lr.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},Lr.prototype.reset=function(){this.store={}},Lr);function Lr(){this.store={}}var jr=(Vr.prototype.getStore=function(){return this.store},Vr.prototype.get=function(e){return this.store[e]},Vr.prototype.initQuery=function(e){var t=this.store[e.queryId];if(t&&t.document!==e.document&&!At(t.document,e.document))throw new ze;var r,n=!1,i=null;e.storePreviousVariables&&t&&t.networkStatus!==Er.loading&&(At(t.variables,e.variables)||(n=!0,i=t.variables)),r=n?Er.setVariables:e.isPoll?Er.poll:e.isRefetch?Er.refetch:Er.loading;var o=[];t&&t.graphQLErrors&&(o=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:i,networkError:null,graphQLErrors:o,networkStatus:r,metadata:e.metadata},"string"==typeof e.fetchMoreForQueryId&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=Er.fetchMore)},Vr.prototype.markQueryResult=function(e,t,r){this.store&&this.store[e]&&(this.store[e].networkError=null,this.store[e].graphQLErrors=t.errors&&t.errors.length?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=Er.ready,"string"==typeof r&&this.store[r]&&(this.store[r].networkStatus=Er.ready))},Vr.prototype.markQueryError=function(e,t,r){this.store&&this.store[e]&&(this.store[e].networkError=t,this.store[e].networkStatus=Er.error,"string"==typeof r&&this.markQueryResultClient(r,!0))},Vr.prototype.markQueryResultClient=function(e,t){this.store&&this.store[e]&&(this.store[e].networkError=null,this.store[e].previousVariables=null,this.store[e].networkStatus=t?Er.ready:Er.loading)},Vr.prototype.stopQuery=function(e){delete this.store[e]},Vr.prototype.reset=function(t){var r=this;this.store=Object.keys(this.store).filter(function(e){return-1<t.indexOf(e)}).reduce(function(e,t){return e[t]=De({},r.store[t],{networkStatus:Er.loading}),e},{})},Vr);function Vr(){this.store={}}var Br=(Ur.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(e){t.resolvers=Qt(t.resolvers,e)}):this.resolvers=Qt(this.resolvers,e)},Ur.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},Ur.prototype.getResolvers=function(){return this.resolvers||{}},Ur.prototype.runResolvers=function(e){var t=e.document,r=e.remoteResult,n=e.context,i=e.variables,o=e.onlyRunForcedResolvers,a=void 0!==o&&o;return Fe(this,void 0,void 0,function(){return Pe(this,function(){return t?[2,this.resolveDocument(t,r.data,n,i,this.fragmentMatcher,a).then(function(e){return De({},r,{data:e.result})})]:[2,r]})})},Ur.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},Ur.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},Ur.prototype.clientQuery=function(e){return st(["client"],e)&&this.resolvers?e:null},Ur.prototype.serverQuery=function(e){return this.resolvers?function(e){ht(e);var t=kt([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=je(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every(function(e){return"Field"===e.kind&&"__typename"===e.name.value}))return null}}})),t}(e):e},Ur.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.cache;return De({},e,{cache:t,getCacheKey:function(e){if(t.config)return t.config.dataIdFromObject(e);He(!1)}})},Ur.prototype.addExportedVariables=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),Fe(this,void 0,void 0,function(){return Pe(this,function(){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(r),t).then(function(e){return De({},t,e.exportedVariables)})]:[2,De({},t)]})})},Ur.prototype.shouldForceResolvers=function(e){var t=!1;return je(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some(function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value})))return Le}}}),t},Ur.prototype.shouldForceResolver=function(e){return this.shouldForceResolvers(e)},Ur.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:function(e){return"query"===mt(e).operation?e:je(e,{OperationDefinition:{enter:function(e){return De({},e,{operation:"query"})}}})}(e),variables:t,optimistic:!1}).result},Ur.prototype.resolveDocument=function(c,l,f,h,p,d){return void 0===f&&(f={}),void 0===h&&(h={}),void 0===p&&(p=function(){return!0}),void 0===d&&(d=!1),Fe(this,void 0,void 0,function(){var e,t,r,n,i,o,a,u,s;return Pe(this,function(){return e=mt(c),t=vt(c),r=bt(t),n=e.operation,i=n?function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(n):"Query",a=(o=this).cache,u=o.client,s={fragmentMap:r,context:De({},f,{cache:a,client:u}),variables:h,fragmentMatcher:p,defaultOperationType:i,exportedVariables:{},onlyRunForcedResolvers:d},[2,this.resolveSelectionSet(e.selectionSet,l,s).then(function(e){return{result:e,exportedVariables:s.exportedVariables}})]})})},Ur.prototype.resolveSelectionSet=function(r,u,s){return Fe(this,void 0,void 0,function(){var n,i,o,a,e,t=this;return Pe(this,function(){return n=s.fragmentMap,i=s.context,o=s.variables,a=[u],e=function(r){return Fe(t,void 0,void 0,function(){var e,t;return Pe(this,function(){return ut(r,o)?nt(r)?[2,this.resolveField(r,u,s).then(function(e){var t;void 0!==e&&a.push(((t={})[rt(r)]=e,t))})]:(it(r)?e=r:He(e=n[r.name.value]),e&&e.typeCondition&&(t=e.typeCondition.name.value,s.fragmentMatcher(u,t,i))?[2,this.resolveSelectionSet(e.selectionSet,u,s).then(function(e){a.push(e)})]:[2]):[2]})})},[2,Promise.all(r.selections.map(e)).then(function(){return qt(a)})]})})},Ur.prototype.resolveField=function(l,f,h){return Fe(this,void 0,void 0,function(){var e,t,r,n,i,o,a,u,s,c=this;return Pe(this,function(){return e=h.variables,t=l.name.value,r=rt(l),n=t!==r,i=f[r]||f[t],o=Promise.resolve(i),h.onlyRunForcedResolvers&&!this.shouldForceResolver(l)||(a=f.__typename||h.defaultOperationType,(u=this.resolvers&&this.resolvers[a])&&(s=u[n?t:r])&&(o=Promise.resolve(s(f,tt(l,e),h.context,{field:l})))),[2,o.then(function(t){return void 0===t&&(t=i),l.directives&&l.directives.forEach(function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach(function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(h.exportedVariables[e.value.value]=t)})}),l.selectionSet?null==t?t:Array.isArray(t)?c.resolveSubSelectedArray(l,t,h):l.selectionSet?c.resolveSelectionSet(l.selectionSet,t,h):void 0:t})]})})},Ur.prototype.resolveSubSelectedArray=function(t,e,r){var n=this;return Promise.all(e.map(function(e){return null===e?null:Array.isArray(e)?n.resolveSubSelectedArray(t,e,r):t.selectionSet?n.resolveSelectionSet(t.selectionSet,e,r):void 0}))},Ur);function Ur(e){var t=e.cache,r=e.client,n=e.resolvers,i=e.fragmentMatcher;this.cache=t,r&&(this.client=r),n&&this.addResolvers(n),i&&this.setFragmentMatcher(i)}var Gr=(Yr.prototype.stop=function(){var r=this;this.queries.forEach(function(e,t){r.stopQueryNoBroadcast(t)}),this.fetchQueryRejectFns.forEach(function(e){e(new Error("QueryManager stopped while query was in flight"))})},Yr.prototype.mutate=function(e){var g=e.mutation,n=e.variables,E=e.optimisticResponse,i=e.updateQueries,t=e.refetchQueries,w=void 0===t?[]:t,r=e.awaitRefetchQueries,O=void 0!==r&&r,S=e.update,o=e.errorPolicy,k=void 0===o?"none":o,I=e.fetchPolicy,a=e.context,T=void 0===a?{}:a;return Fe(this,void 0,void 0,function(){var v,t,y,m,r,b=this;return Pe(this,function(e){switch(e.label){case 0:return He(g),He(!I||"no-cache"===I),v=this.generateQueryId(),t=this.dataStore.getCache(),g=t.transformDocument(g),n=ft({},gt(function(e){ht(e);var t=e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})[0];return He(t),t}(g)),n),this.setQuery(v,function(){return{document:g}}),y=function(){var r={};return i&&Object.keys(i).forEach(function(t){return(b.queryIdsByName[t]||[]).forEach(function(e){r[e]={updater:i[t],query:b.queryStore.get(e)}})}),r},ct(g)?[4,this.localState.addExportedVariables(g,n,T)]:[3,2];case 1:return r=e.sent(),[3,3];case 2:r=n,e.label=3;case 3:return m=r,this.mutationStore.initMutation(v,g,m),this.dataStore.markMutationInit({mutationId:v,document:g,variables:m||{},updateQueries:y(),update:S,optimisticResponse:E}),this.broadcastQueries(),[2,new Promise(function(o,a){function u(){if(c&&b.mutationStore.markMutationError(v,c),b.dataStore.markMutationComplete({mutationId:v,optimisticResponse:E}),b.broadcastQueries(),c)return Promise.reject(c);"function"==typeof w&&(w=w(s));for(var e=[],t=0,r=w;t<r.length;t++){var n=r[t];if("string"!=typeof n){var i={query:n.query,variables:n.variables,fetchPolicy:"network-only"};n.context&&(i.context=n.context),e.push(b.query(i))}else{var o=b.refetchQueryByName(n);o&&e.push(o)}}return Promise.all(O?e:[]).then(function(){return b.setQuery(v,function(){return{document:null}}),"ignore"===k&&s&&_t(s)&&delete s.errors,s})}var s,c,l=b.buildOperationForLink(g,m,De({},T,{optimisticResponse:E})),f=b.localState.clientQuery(l.query),e=b.localState.serverQuery(l.query);e&&(l.query=e);var t=e?yr(b.link,l):Nr.of({data:{}}),h=b,p=!1,d=!1;t.subscribe({next:function(i){return Fe(b,void 0,void 0,function(){var t,r,n;return Pe(this,function(e){switch(e.label){case 0:return d=!0,_t(i)&&"none"===k?(d=!1,c=new Qr({graphQLErrors:i.errors}),[2]):(h.mutationStore.markMutationResult(v),t=i,r=l.context,n=l.variables,f&&st(["client"],f)?[4,h.localState.runResolvers({document:f,remoteResult:i,context:r,variables:n}).catch(function(e){return d=!1,a(e),i})]:[3,2]);case 1:t=e.sent(),e.label=2;case 2:return"no-cache"!==I&&h.dataStore.markMutationResult({mutationId:v,result:t,document:g,variables:m||{},updateQueries:y(),update:S}),s=t,d=!1,p&&u().then(o,a),[2]}})})},error:function(e){h.mutationStore.markMutationError(v,e),h.dataStore.markMutationComplete({mutationId:v,optimisticResponse:E}),h.broadcastQueries(),h.setQuery(v,function(){return{document:null}}),a(new Qr({networkError:e}))},complete:function(){d||u().then(o,a),p=!0}})})]}})})},Yr.prototype.fetchQuery=function(k,I,T,N){return Fe(this,void 0,void 0,function(){var t,r,n,i,o,a,u,s,c,l,f,h,p,d,v,y,m,b,g,E,w,O,S=this;return Pe(this,function(e){switch(e.label){case 0:return t=I.variables,r=void 0===t?{}:t,n=I.metadata,i=void 0===n?null:n,o=I.fetchPolicy,a=void 0===o?"cache-first":o,u=I.context,s=void 0===u?{}:u,c=this.dataStore.getCache(),ct(l=c.transformDocument(I.query))?[4,this.localState.addExportedVariables(l,r,s)]:[3,2];case 1:return h=e.sent(),[3,3];case 2:h=r,e.label=3;case 3:if(p=De({},I,{variables:f=h}),v="network-only"===a||"no-cache"===a,T!==Ar.refetch&&"network-only"!==a&&"no-cache"!==a&&(y=this.dataStore.getCache().diff({query:l,variables:f,returnPartialData:!0,optimistic:!1}),m=y.complete,b=y.result,v=!m||"cache-and-network"===a,d=b),g=v&&"cache-only"!==a&&"standby"!==a,st(["live"],l)&&(g=!0),E=this.generateRequestId(),w=this.updateQueryWatch(k,l,p),this.setQuery(k,function(){return{document:l,lastRequestId:E,invalidated:!0,cancel:w}}),this.invalidate(!0,N),this.queryStore.initQuery({queryId:k,document:l,storePreviousVariables:g,variables:f,isPoll:T===Ar.poll,isRefetch:T===Ar.refetch,metadata:i,fetchMoreForQueryId:N}),this.broadcastQueries(),g&&"cache-and-network"!==a||(this.queryStore.markQueryResultClient(k,!g),this.invalidate(!0,k,N),this.broadcastQueries(this.localState.shouldForceResolvers(l))),g){if(O=this.fetchRequest({requestId:E,queryId:k,document:l,options:p,fetchMoreForQueryId:N}).catch(function(e){if(function(e){return e.hasOwnProperty("graphQLErrors")}(e))throw e;throw(S.getQuery(k).lastRequestId||1)<=E&&(S.queryStore.markQueryError(k,e,N),S.invalidate(!0,k,N),S.broadcastQueries()),new Qr({networkError:e})}),"cache-and-network"!==a)return[2,O];O.catch(function(){})}return[2,Promise.resolve({data:d})]}})})},Yr.prototype.queryListenerForObserver=function(k,I,T){var e=this,N=!1;return function(w,O,S){return Fe(e,void 0,void 0,function(){var t,r,n,i,o,a,u,s,c,l,f,h,p,d,v,y,m,b,g,E;return Pe(this,function(e){switch(e.label){case 0:if(this.invalidate(!1,k),!w)return[2];if(t=this.getQuery(k).observableQuery,"standby"===(r=t?t.options.fetchPolicy:I.fetchPolicy))return[2];if(n=t?t.options.errorPolicy:I.errorPolicy,i=t?t.getLastResult():null,o=t?t.getLastError():null,a=!O&&null!=w.previousVariables||"cache-only"===r||"cache-and-network"===r,u=Boolean(i&&w.networkStatus!==i.networkStatus),s=n&&(o&&o.graphQLErrors)!==w.graphQLErrors&&"none"!==n,!(!Ir(w.networkStatus)||u&&I.notifyOnNetworkStatusChange||a))return[3,8];if((!n||"none"===n)&&w.graphQLErrors&&0<w.graphQLErrors.length||w.networkError){if(c=new Qr({graphQLErrors:w.graphQLErrors,networkError:w.networkError}),N=!0,T.error)try{T.error(c)}catch(e){setTimeout(function(){throw e},0)}else setTimeout(function(){throw c},0);return[2]}e.label=1;case 1:if(e.trys.push([1,7,,8]),f=l=void 0,f=O?("no-cache"!==r&&"network-only"!==r&&this.setQuery(k,function(){return{newData:null}}),l=O.result,!O.complete||!1):i&&i.data&&!s?(l=i.data,!1):(h=this.getQuery(k).document,p=this.dataStore.getCache().diff({query:h,variables:w.previousVariables||w.variables,optimistic:!0}),l=p.result,!p.complete),d=void 0,d=f&&"cache-only"!==r?{data:i&&i.data,loading:Ir(w.networkStatus),networkStatus:w.networkStatus,stale:!0}:{data:l,loading:Ir(w.networkStatus),networkStatus:w.networkStatus,stale:!1},"all"===n&&w.graphQLErrors&&0<w.graphQLErrors.length&&(d.errors=w.graphQLErrors),!T.next)return[3,6];if(!N&&t&&!t.isDifferentFromLastResult(d))return[3,6];e.label=2;case 2:return e.trys.push([2,5,,6]),S?(v=I.query,y=I.variables,m=I.context,[4,this.localState.runResolvers({document:v,remoteResult:d,context:m,variables:y,onlyRunForcedResolvers:S})]):[3,4];case 3:b=e.sent(),d=De({},d,b),e.label=4;case 4:return T.next(d),[3,6];case 5:return g=e.sent(),setTimeout(function(){throw g},0),[3,6];case 6:return N=!1,[3,8];case 7:return E=e.sent(),N=!0,T.error&&T.error(new Qr({networkError:E})),[2];case 8:return[2]}})})}},Yr.prototype.watchQuery=function(e,t){void 0===t&&(t=!0),He("standby"!==e.fetchPolicy);var r=yt(e.query);if(r.variableDefinitions&&r.variableDefinitions.length){var n=gt(r);e.variables=ft({},n,e.variables)}void 0===e.notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var i=De({},e);return new Dr({queryManager:this,options:i,shouldSubscribe:t})},Yr.prototype.query=function(n){var i=this;return He(n.query),He("Document"===n.query.kind),He(!n.returnPartialData),He(!n.pollInterval),new Promise(function(e,t){var r=i.watchQuery(n,!1);i.fetchQueryRejectFns.set("query:"+r.queryId,t),r.result().then(e,t).then(function(){return i.fetchQueryRejectFns.delete("query:"+r.queryId)})})},Yr.prototype.generateQueryId=function(){var e=this.idCounter.toString();return this.idCounter++,e},Yr.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},Yr.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(!0,e)},Yr.prototype.addQueryListener=function(e,r){this.setQuery(e,function(e){var t=e.listeners;return{listeners:(void 0===t?[]:t).concat([r]),invalidated:!1}})},Yr.prototype.updateQueryWatch=function(n,e,t){var i=this,r=this.getQuery(n).cancel;return r&&r(),this.dataStore.getCache().watch({query:e,variables:t.variables,optimistic:!0,previousResult:function(){var e=null,t=i.getQuery(n).observableQuery;if(t){var r=t.getLastResult();r&&(e=r.data)}return e},callback:function(e){i.setQuery(n,function(){return{invalidated:!0,newData:e}})}})},Yr.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}});var r=yt(t.options.query);if(r.name&&r.name.value){var n=r.name.value;this.queryIdsByName[n]=this.queryIdsByName[n]||[],this.queryIdsByName[n].push(t.queryId)}},Yr.prototype.removeObservableQuery=function(e){var t=this.getQuery(e),r=t.observableQuery,n=t.cancel;if(n&&n(),r){var i=yt(r.options.query),o=i.name?i.name.value:null;this.setQuery(e,function(){return{observableQuery:null}}),o&&(this.queryIdsByName[o]=this.queryIdsByName[o].filter(function(e){return!(r.queryId===e)}))}},Yr.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(e){e(new Error("Store reset while query was in flight(not completed in link chain)"))});var r=[];return this.queries.forEach(function(e,t){e.observableQuery&&r.push(t)}),this.queryStore.reset(r),this.mutationStore.reset(),this.dataStore.reset()},Yr.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},Yr.prototype.reFetchObservableQueries=function(e){var t=this.getObservableQueryPromises(e);return this.broadcastQueries(),Promise.all(t)},Yr.prototype.startQuery=function(e,t,r){return this.addQueryListener(e,r),this.fetchQuery(e,t).catch(function(){}),e},Yr.prototype.startGraphQLSubscription=function(e){var a,u=this,t=e.query,s=!(e.fetchPolicy&&"no-cache"===e.fetchPolicy),c=this.dataStore.getCache().transformDocument(t),l=ft({},gt(pt(t)),e.variables),f=l,h=[],p=this.localState.clientQuery(c);return new Nr(function(t){if(h.push(t),1===h.length){var n=0,i=!1,o={next:function(r){return Fe(u,void 0,void 0,function(){var t;return Pe(this,function(e){switch(e.label){case 0:return n+=1,t=r,p&&st(["client"],p)?[4,this.localState.runResolvers({document:p,remoteResult:r,context:{},variables:f})]:[3,2];case 1:t=e.sent(),e.label=2;case 2:return s&&(this.dataStore.markSubscriptionResult(t,c,f),this.broadcastQueries()),h.forEach(function(e){_t(t)&&e.error?e.error(new Qr({graphQLErrors:t.errors})):e.next&&e.next(t),n-=1}),0===n&&i&&o.complete(),[2]}})})},error:function(t){h.forEach(function(e){e.error&&e.error(t)})},complete:function(){0===n&&h.forEach(function(e){e.complete&&e.complete()}),i=!0}};Fe(u,void 0,void 0,function(){var t,r,n,i;return Pe(this,function(e){switch(e.label){case 0:return ct(c)?[4,this.localState.addExportedVariables(c,l)]:[3,2];case 1:return r=e.sent(),[3,3];case 2:r=l,e.label=3;case 3:return t=r,n=this.localState.serverQuery(c),a=n?(i=this.buildOperationForLink(n,t),yr(this.link,i).subscribe(o)):Nr.of({data:{}}).subscribe(o),[2]}})})}return function(){0===(h=h.filter(function(e){return e!==t})).length&&a&&a.unsubscribe()}})},Yr.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},Yr.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},Yr.prototype.removeQuery=function(e){var t=this.getQuery(e).subscriptions;this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),t.forEach(function(e){return e.unsubscribe()}),this.queries.delete(e)},Yr.prototype.getCurrentQueryResult=function(e,t){void 0===t&&(t=!0);var r=e.options,n=r.variables,i=r.query,o=r.fetchPolicy,a=e.getLastResult(),u=this.getQuery(e.queryId).newData;if(u&&u.complete)return{data:u.result,partial:!1};if("no-cache"===o||"network-only"===o)return{data:void 0,partial:!1};try{return{data:this.dataStore.getCache().read({query:i,variables:n,previousResult:a?a.data:void 0,optimistic:t})||void 0,partial:!1}}catch(e){return{data:void 0,partial:!0}}},Yr.prototype.getQueryWithPreviousResult=function(e){var t;if("string"==typeof e){var r=this.getQuery(e).observableQuery;He(r),t=r}else t=e;var n=t.options,i=n.variables,o=n.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:i,document:o}},Yr.prototype.broadcastQueries=function(n){var i=this;void 0===n&&(n=!1),this.onBroadcast(),this.queries.forEach(function(t,r){t.invalidated&&t.listeners&&t.listeners.filter(function(e){return!!e}).forEach(function(e){e(i.queryStore.get(r),t.newData,n)})})},Yr.prototype.getLocalState=function(){return this.localState},Yr.prototype.getObservableQueryPromises=function(i){var o=this,a=[];return this.queries.forEach(function(e,t){var r=e.observableQuery;if(r){var n=r.options.fetchPolicy;r.resetLastResults(),"cache-only"===n||!i&&"standby"===n||a.push(r.refetch()),o.setQuery(t,function(){return{newData:null}}),o.invalidate(!0,t)}}),a},Yr.prototype.fetchRequest=function(e){var f,h,p=this,d=e.requestId,v=e.queryId,y=e.document,t=e.options,m=e.fetchMoreForQueryId,b=t.variables,g=t.context,r=t.errorPolicy,E=void 0===r?"none":r,w=t.fetchPolicy;return new Promise(function(e,n){var t,i={},o=p.localState.clientQuery(y),r=p.localState.serverQuery(y);if(r){var a=p.buildOperationForLink(r,b,De({},g,{forceFetch:!p.queryDeduplication}));i=a.context,t=yr(p.deduplicator,a)}else i=p.prepareContext(g),t=Nr.of({data:{}});p.fetchQueryRejectFns.set("fetchRequest:"+v,n);var u=!1,s=!0,c={next:function(r){return Fe(p,void 0,void 0,function(){var t;return Pe(this,function(e){switch(e.label){case 0:return s=!0,t=r,(this.getQuery(v).lastRequestId||1)<=d?o&&st(["client"],o)?[4,this.localState.runResolvers({document:o,remoteResult:r,context:i,variables:b}).catch(function(e){return s=!1,n(e),r})]:[3,2]:[3,3];case 1:t=e.sent(),e.label=2;case 2:if("no-cache"!==w)try{this.dataStore.markQueryResult(t,y,b,m,"ignore"===E||"all"===E)}catch(e){return s=!1,n(e),[2]}else this.setQuery(v,function(){return{newData:{result:t.data,complete:!0}}});this.queryStore.markQueryResult(v,t,m),this.invalidate(!0,v,m),this.broadcastQueries(),e.label=3;case 3:if(t.errors&&"none"===E)return s=!1,n(new Qr({graphQLErrors:t.errors})),[2];if("all"===E&&(h=t.errors),m||"no-cache"===w)f=t.data;else try{f=this.dataStore.getCache().read({variables:b,query:y,optimistic:!1})}catch(e){}return s=!1,u&&c.complete(),[2]}})})},error:function(e){p.fetchQueryRejectFns.delete("fetchRequest:"+v),p.setQuery(v,function(e){return{subscriptions:e.subscriptions.filter(function(e){return e!==l})}}),n(e)},complete:function(){s||(p.fetchQueryRejectFns.delete("fetchRequest:"+v),p.setQuery(v,function(e){return{subscriptions:e.subscriptions.filter(function(e){return e!==l})}}),e({data:f,errors:h,loading:!1,networkStatus:Er.ready,stale:!1})),u=!0}},l=t.subscribe(c);p.setQuery(v,function(e){return{subscriptions:e.subscriptions.concat([l])}})}).catch(function(e){throw p.fetchQueryRejectFns.delete("fetchRequest:"+v),e})},Yr.prototype.refetchQueryByName=function(e){var t=this,r=this.queryIdsByName[e];if(void 0!==r)return Promise.all(r.map(function(e){return t.getQuery(e).observableQuery}).filter(function(e){return!!e}).map(function(e){return e.refetch()}))},Yr.prototype.generateRequestId=function(){var e=this.idCounter;return this.idCounter++,e},Yr.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:[],invalidated:!1,document:null,newData:null,lastRequestId:null,observableQuery:null,subscriptions:[]}},Yr.prototype.setQuery=function(e,t){var r=this.getQuery(e),n=De({},r,t(r));this.queries.set(e,n)},Yr.prototype.invalidate=function(e,t,r){t&&this.setQuery(t,function(){return{invalidated:e}}),r&&this.setQuery(r,function(){return{invalidated:e}})},Yr.prototype.buildOperationForLink=function(e,t,r){var n=this.dataStore.getCache();return{query:n.transformForLink?n.transformForLink(e):e,variables:t,operationName:dt(e)||void 0,context:this.prepareContext(r)}},Yr.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return De({},t,{clientAwareness:this.clientAwareness})},Yr.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==Er.ready&&t.networkStatus!==Er.error},Yr.prototype.startPollingQuery=function(e,t,r){var n=e.pollInterval;return He(n),this.ssrMode||(this.pollingInfoByQueryId.set(t,{interval:n,lastPollTimeMs:Date.now()-10,options:De({},e,{fetchPolicy:"network-only"})}),r&&this.addQueryListener(t,r),this.schedulePoll(n)),t},Yr.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},Yr.prototype.schedulePoll=function(e){var i=this,t=Date.now();if(this.nextPoll){if(!(e<this.nextPoll.time-t))return;clearTimeout(this.nextPoll.timeout)}this.nextPoll={time:t+e,timeout:setTimeout(function(){i.nextPoll=null;var n=1/0;i.pollingInfoByQueryId.forEach(function(e,t){if(e.interval<n&&(n=e.interval),!i.checkInFlight(t)&&Date.now()-e.lastPollTimeMs>=e.interval){var r=function(){e.lastPollTimeMs=Date.now()};i.fetchQuery(t,e.options,Ar.poll).then(r,r)}}),isFinite(n)&&i.schedulePoll(n)},e)}},Yr);function Yr(e){var t=e.link,r=e.queryDeduplication,n=void 0!==r&&r,i=e.store,o=e.onBroadcast,a=void 0===o?function(){}:o,u=e.ssrMode,s=void 0!==u&&u,c=e.clientAwareness,l=void 0===c?{}:c,f=e.localState;this.mutationStore=new Mr,this.queryStore=new jr,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.queryIdsByName={},this.pollingInfoByQueryId=new Map,this.nextPoll=null,this.link=t,this.deduplicator=dr.from([new Sr,t]),this.queryDeduplication=n,this.dataStore=i,this.onBroadcast=a,this.clientAwareness=l,this.localState=f||new Br({cache:i.getCache()}),this.ssrMode=s}var Jr=(Kr.prototype.getCache=function(){return this.cache},Kr.prototype.markQueryResult=function(e,t,r,n,i){void 0===i&&(i=!1);var o=!_t(e);i&&_t(e)&&e.data&&(o=!0),!n&&o&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:r})},Kr.prototype.markSubscriptionResult=function(e,t,r){_t(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:r})},Kr.prototype.markMutationInit=function(r){var n,i=this;r.optimisticResponse&&(n="function"==typeof r.optimisticResponse?r.optimisticResponse(r.variables):r.optimisticResponse,this.cache.recordOptimisticTransaction(function(e){var t=i.cache;i.cache=e;try{i.markMutationResult({mutationId:r.mutationId,result:{data:n},document:r.document,variables:r.variables,updateQueries:r.updateQueries,update:r.update})}finally{i.cache=t}},r.mutationId))},Kr.prototype.markMutationResult=function(u){var s=this;if(!_t(u.result)){var c=[];c.push({result:u.result.data,dataId:"ROOT_MUTATION",query:u.document,variables:u.variables}),u.updateQueries&&Object.keys(u.updateQueries).filter(function(e){return u.updateQueries[e]}).forEach(function(e){var t=u.updateQueries[e],r=t.query,n=t.updater,i=s.cache.diff({query:r.document,variables:r.variables,returnPartialData:!0,optimistic:!1}),o=i.result;if(i.complete){var a=Rt(function(){return n(o,{mutationResult:u.result,queryName:dt(r.document)||void 0,queryVariables:r.variables})});a&&c.push({result:a,dataId:"ROOT_QUERY",query:r.document,variables:r.variables})}}),this.cache.performTransaction(function(t){c.forEach(function(e){return t.write(e)})});var t=u.update;t&&this.cache.performTransaction(function(e){Rt(function(){return t(e,u.result)})})}},Kr.prototype.markMutationComplete=function(e){var t=e.mutationId;e.optimisticResponse&&this.cache.removeOptimistic(t)},Kr.prototype.markUpdateQueryResult=function(e,t,r){this.cache.write({result:r,dataId:"ROOT_QUERY",variables:t,query:e})},Kr.prototype.reset=function(){return this.cache.reset()},Kr);function Kr(e){this.cache=e}var zr=(Wr.prototype.stop=function(){this.queryManager&&this.queryManager.stop()},Wr.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=De({},this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=De({},e,{fetchPolicy:"cache-first"})),this.initQueryManager().watchQuery(e)},Wr.prototype.query=function(e){return this.defaultOptions.query&&(e=De({},this.defaultOptions.query,e)),He("cache-and-network"!==e.fetchPolicy),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=De({},e,{fetchPolicy:"cache-first"})),this.initQueryManager().query(e)},Wr.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=De({},this.defaultOptions.mutate,e)),this.initQueryManager().mutate(e)},Wr.prototype.subscribe=function(e){return this.initQueryManager().startGraphQLSubscription(e)},Wr.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.initProxy().readQuery(e,t)},Wr.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.initProxy().readFragment(e,t)},Wr.prototype.writeQuery=function(e){var t=this.initProxy().writeQuery(e);return this.initQueryManager().broadcastQueries(),t},Wr.prototype.writeFragment=function(e){var t=this.initProxy().writeFragment(e);return this.initQueryManager().broadcastQueries(),t},Wr.prototype.writeData=function(e){var t=this.initProxy().writeData(e);return this.initQueryManager().broadcastQueries(),t},Wr.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},Wr.prototype.__requestRaw=function(e){return yr(this.link,e)},Wr.prototype.initQueryManager=function(){var e=this;return this.queryManager||(this.queryManager=new Gr({link:this.link,store:this.store,queryDeduplication:this.queryDeduplication,ssrMode:this.ssrMode,clientAwareness:this.clientAwareness,localState:this.localState,onBroadcast:function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager?e.queryManager.queryStore.getStore():{},mutations:e.queryManager?e.queryManager.mutationStore.getStore():{}},dataWithOptimisticResults:e.cache.extract(!0)})}})),this.queryManager},Wr.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager?e.queryManager.clearStore():Promise.resolve(null)}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(e){return e()}))}).then(function(){return e.queryManager&&e.queryManager.reFetchObservableQueries?e.queryManager.reFetchObservableQueries():Promise.resolve(null)})},Wr.prototype.clearStore=function(){var e=this,t=this.queryManager;return Promise.resolve().then(function(){return Promise.all(e.clearStoreCallbacks.map(function(e){return e()}))}).then(function(){return t?t.clearStore():Promise.resolve(null)})},Wr.prototype.onResetStore=function(t){var e=this;return this.resetStoreCallbacks.push(t),function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter(function(e){return e!==t})}},Wr.prototype.onClearStore=function(t){var e=this;return this.clearStoreCallbacks.push(t),function(){e.clearStoreCallbacks=e.clearStoreCallbacks.filter(function(e){return e!==t})}},Wr.prototype.reFetchObservableQueries=function(e){return this.queryManager?this.queryManager.reFetchObservableQueries(e):Promise.resolve(null)},Wr.prototype.extract=function(e){return this.initProxy().extract(e)},Wr.prototype.restore=function(e){return this.initProxy().restore(e)},Wr.prototype.addResolvers=function(e){this.localState.addResolvers(e)},Wr.prototype.setResolvers=function(e){this.localState.setResolvers(e)},Wr.prototype.getResolvers=function(){return this.localState.getResolvers()},Wr.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},Wr.prototype.initProxy=function(){return this.proxy||(this.initQueryManager(),this.proxy=this.cache),this.proxy},Wr);function Wr(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],this.clientAwareness={};var r=e.cache,n=e.ssrMode,i=void 0!==n&&n,o=e.ssrForceFetchDelay,a=void 0===o?0:o,u=e.connectToDevTools,s=e.queryDeduplication,c=void 0===s||s,l=e.defaultOptions,f=e.resolvers,h=e.typeDefs,p=e.fragmentMatcher,d=e.name,v=e.version,y=e.link;if(!y&&f&&(y=dr.empty()),!y||!r)throw new ze;var m=new Map,b=new dr(function(e,t){var r=m.get(e.query);return r||(r=function(e){return kt([It],ht(e))}(e.query),m.set(e.query,r),m.set(r,r)),e.query=r,t(e)});this.link=b.concat(y),this.cache=r,this.store=new Jr(r),this.disableNetworkFetches=i||0<a,this.queryDeduplication=c,this.ssrMode=i,this.defaultOptions=l||{},this.typeDefs=h,a&&setTimeout(function(){return t.disableNetworkFetches=!1},a),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);void 0!==u&&(u&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),this.version="2.5.1",d&&(this.clientAwareness.name=d),v&&(this.clientAwareness.version=v),this.localState=new Br({cache:r,client:this,resolvers:f,fragmentMatcher:p})}function Hr(r){if("number"==typeof r||"boolean"==typeof r||"string"==typeof r||null==r)return null;if(Array.isArray(r))return Hr(r[0]);var n=[];return Object.keys(r).forEach(function(e){var t={kind:"Field",name:{kind:"Name",value:e},selectionSet:Hr(r[e])||void 0};n.push(t)}),{kind:"SelectionSet",selections:n}}var Xr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},$r=(Zr.prototype.transformDocument=function(e){return e},Zr.prototype.transformForLink=function(e){return e},Zr.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},Zr.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:lt(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},Zr.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},Zr.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:lt(e.fragment,e.fragmentName)})},Zr.prototype.writeData=function(e){var t=e.id,r=e.data;if(void 0!==t){var n=null;try{n=this.read({rootId:t,optimistic:!1,query:Xr})}catch(e){}var i=n&&n.__typename||"__ClientData",o=Object.assign({__typename:i},r);this.writeFragment({id:t,fragment:function(e,t){return{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:t||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Hr(e)}]}}(o,i),data:o})}else this.writeQuery({query:function(e){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Hr(e)}]}}(r),data:r})},Zr);function Zr(){}function en(e){this.map=new Map,this.newest=null,this.oldest=null,this.max=e&&e.max,this.dispose=e&&e.dispose}var tn=en,rn=en.prototype;function nn(e,t){var r=e.map.get(t);if(r&&r!==e.newest){var n=r.older,i=r.newer;i&&(i.older=n),n&&(n.newer=i),r.older=e.newest,(r.older.newer=r).newer=null,(e.newest=r)===e.oldest&&(e.oldest=i)}return r}rn.has=function(e){return this.map.has(e)},rn.get=function(e){var t=nn(this,e);return t&&t.value},rn.set=function(e,t){var r=nn(this,e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},rn.clean=function(){if("number"==typeof this.max)for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},rn.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),"function"==typeof this.dispose&&this.dispose(e,t.value),!0)};var on={Cache:tn},an="function"==typeof Symbol&&"function"==typeof Symbol.for,un=an?Symbol.for("immutable-tuple"):"@@__IMMUTABLE_TUPLE__@@",sn=an?Symbol.for("immutable-tuple-root"):"@@__IMMUTABLE_TUPLE_ROOT__@@";function cn(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!!n,writable:!1,configurable:!1}),r}var ln=Object.freeze||function(e){return e};function fn(e){switch(typeof e){case"object":if(null===e)return!1;case"function":return!0;default:return!1}}var hn=function(){this._weakMap=null,this._strongMap=null,this.data=null};hn.prototype.get=function(e){var t=this._getMap(e,!1);if(t)return t.get(e)},hn.prototype.set=function(e,t){return this._getMap(e,!0).set(e,t),t},hn.prototype._getMap=function(e,t){return t?fn(e)?this._weakMap||(this._weakMap=new WeakMap):this._strongMap||(this._strongMap=new Map):fn(e)?this._weakMap:this._strongMap};var pn,dn=Array[sn]||cn(Array,sn,new hn,!1);function vn(){return yn(arguments)}function yn(e){for(var t=dn,r=e.length,n=0;n<r;++n){var i=e[n];t=t.get(i)||t.set(i,new hn)}return t.data||(t.data=Object.create(null))}function mn(){var e=arguments,t=vn.apply(null,arguments);if(t.tuple)return t.tuple;for(var r=Object.create(mn.prototype),n=arguments.length,i=0;i<n;++i)r[i]=e[i];return cn(r,"length",n,!1),ln(t.tuple=r)}function bn(e){return!(!e||!0!==e[un])}function gn(e){for(var t=[],r=e.length;r--;)t[r]=e[r];return t}function En(e,t){var r=Object.getOwnPropertyDescriptor(Array.prototype,e);pn(e,r,!!t)}cn(mn.prototype,un,!0,!1),mn.isTuple=bn,pn=function(e,t,n){var i=t&&t.value;"function"==typeof i&&(t.value=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=i.apply(n?gn(this):this,e);return Array.isArray(r)?mn.apply(void 0,r):r},Object.defineProperty(mn.prototype,e,t))},En("every"),En("filter"),En("find"),En("findIndex"),En("forEach"),En("includes"),En("indexOf"),En("join"),En("lastIndexOf"),En("map"),En("reduce"),En("reduceRight"),En("slice"),En("some"),En("toLocaleString"),En("toString"),En("reverse",!0),En("sort",!0),En(an&&Symbol.iterator||"@@iterator");var wn=Array.prototype.concat;mn.prototype.concat=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return mn.apply(void 0,wn.apply(gn(this),e.map(function(e){return bn(e)?gn(e):e})))};var On=Object.freeze({default:mn,tuple:mn,lookup:vn,lookupArray:yn}),Sn=Oe(function(e,t){var r=new function(){},n="_optimism_local";function i(){return r}try{var o=e["eriuqer".split("").reverse().join("")]("fibers");i=function(){return o.current||r}}catch(e){}t.get=function(){var e=i();return e[n]||(e[n]=Object.create(null))}}),kn=(Sn.get,Oe(function(e,n){var o=Sn.get,i=Object.create(null),a=[],u=[];function s(e,t){if(!e)throw new Error(t||"assertion failure")}function c(e,t,r){this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,l(this,e,t,r),++c.count}function l(e,t,r,n){e.fn=t,e.key=r,e.args=n,e.value=i,e.dirty=!0,e.subscribe=null,e.unsubscribe=null,e.recomputing=!1,e.reportOrphan=null}n.POOL_TARGET_SIZE=100,c.count=0,c.acquire=function(e,t,r){var n=u.pop();return n?(l(n,e,t,r),n):new c(e,t,r)};var t=(n.Entry=c).prototype;function f(e){var t=e.reportOrphan;return"function"==typeof t&&0===e.parents.size&&!0===t(e)}function r(t){t.parents.forEach(function(e){d(e,t)})}function h(t){t.parents.forEach(function(e){v(e,t)})}function p(e){return e.dirty||e.dirtyChildren&&e.dirtyChildren.size}function d(e,t){if(s(e.childValues.has(t)),s(p(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=a.pop()||new Set;e.dirtyChildren.add(t),r(e)}function v(e,t){var r=e.childValues;s(r.has(t)),s(!p(t));var n=r.get(t);n===i?r.set(t,t.value):n!==t.value&&e.setDirty(),y(e,t),p(e)||h(e)}function y(e,t){var r=e.dirtyChildren;r&&(r.delete(t),0===r.size&&(a.length<n.POOL_TARGET_SIZE&&a.push(r),e.dirtyChildren=null))}function m(e){s(!e.recomputing,"already recomputing"),e.recomputing=!0;var t=g(e),r=o(),n=r.currentParentEntry;r.currentParentEntry=e;var i=!0;try{e.value=e.fn.apply(null,e.args),i=!1}finally{e.recomputing=!1,s(r.currentParentEntry===e),r.currentParentEntry=n,i||!function(t){if("function"==typeof t.subscribe)try{w(t),t.unsubscribe=t.subscribe.apply(null,t.args)}catch(e){return t.setDirty(),!1}return!0}(e)?e.setDirty():function(e){e.dirty=!1,p(e)||h(e)}(e)}return t.forEach(f),e.value}t.recompute=function(){if(function(e){var t=o().currentParentEntry;if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,i),p(e)?d(t,e):v(t,e),t}(this)||!f(this))return function t(r){if(r.dirty)return m(r);if(p(r)&&(r.dirtyChildren.forEach(function(e){s(r.childValues.has(e));try{t(e)}catch(e){r.setDirty()}}),r.dirty))return m(r);s(r.value!==i);return r.value}(this)},t.setDirty=function(){this.dirty||(this.dirty=!0,this.value=i,r(this),w(this))},t.dispose=function(){var t=this;g(t).forEach(f),w(t),t.parents.forEach(function(e){e.setDirty(),E(e,t)}),function(e){s(0===e.parents.size),s(0===e.childValues.size),s(null===e.dirtyChildren),u.length<n.POOL_TARGET_SIZE&&u.push(e)}(t)};var b=[];function g(r){var n=b;return 0<r.childValues.size&&(n=[],r.childValues.forEach(function(e,t){E(r,t),n.push(t)})),s(null===r.dirtyChildren),n}function E(e,t){t.parents.delete(e),e.childValues.delete(t),y(e,t)}function w(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=null,t())}})),In=(kn.POOL_TARGET_SIZE,kn.Entry,Se(On)),Tn=on.Cache,Nn=In.tuple,Rn=kn.Entry,_n=Sn.get;var An=function(o,a){var u=!!(a=function(e){return"function"!=typeof(e=e||Object.create(null)).makeCacheKey&&(e.makeCacheKey=Nn),"number"!=typeof e.max&&(e.max=Math.pow(2,16)),e}(a)).disposable,s=new Tn({max:a.max,dispose:function(e,t){t.dispose()}});function c(e){if(u)return s.delete(e.key),!0}function e(){if(!u||_n().currentParentEntry){var e=a.makeCacheKey.apply(null,arguments);if(!e)return o.apply(null,arguments);for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var n=s.get(e);n?n.args=t:(s.set(e,n=Rn.acquire(o,e,t)),n.subscribe=a.subscribe,u&&(n.reportOrphan=c));var i=n.recompute();return s.set(e,n),0===n.parents.size&&s.clean(),u?void 0:i}}return e.dirty=function(){var e=a.makeCacheKey.apply(null,arguments);e&&s.has(e)&&s.get(e).setDirty()},e},xn=new Map;if(xn.set(1,2)!==xn){var Qn=xn.set;Map.prototype.set=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Qn.apply(this,e),this}}var qn=new Set;if(qn.add(3)!==qn){var Cn=qn.add;Set.prototype.add=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Cn.apply(this,e),this}}var Dn={};"function"==typeof Object.freeze&&Object.freeze(Dn);try{xn.set(Dn,Dn).delete(Dn)}catch(Je){var Fn=function(t){return t&&function(e){try{xn.set(e,e).delete(e)}finally{return t.call(Object,e)}}};Object.freeze=Fn(Object.freeze),Object.seal=Fn(Object.seal),Object.preventExtensions=Fn(Object.preventExtensions)}var Pn=(Mn.prototype.ensureReady=function(){return Promise.resolve()},Mn.prototype.canBypassInit=function(){return!0},Mn.prototype.match=function(e,t,r){var n=r.store.get(e.id);return!n&&"ROOT_QUERY"===e.id||!!n&&(n.__typename&&n.__typename===t||"heuristic")},Mn);function Mn(){}var Ln=(jn.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},jn.prototype.lookupArray=function(e){var t=this;return e.forEach(function(e){t=t.getOrCreate(e)}),t.key||(t.key=Object.create(null))},jn.prototype.getOrCreate=function(e){var t=this.children||(this.children=new Map),r=t.get(e);return r||t.set(e,r=new jn),r},jn);function jn(){this.children=null,this.key=null}var Vn=Object.prototype.hasOwnProperty,Bn=(Un.prototype.toObject=function(){return this.data},Un.prototype.get=function(e){return this.depend(e),this.data[e]},Un.prototype.set=function(e,t){t!==this.data[e]&&(this.data[e]=t,this.depend.dirty(e))},Un.prototype.delete=function(e){Vn.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},Un.prototype.clear=function(){this.replace(null)},Un.prototype.replace=function(t){var r=this;t?(Object.keys(t).forEach(function(e){r.set(e,t[e])}),Object.keys(this.data).forEach(function(e){Vn.call(t,e)||r.delete(e)})):Object.keys(this.data).forEach(function(e){r.delete(e)})},Un);function Un(e){void 0===e&&(e=Object.create(null));var t=this;this.data=e,this.depend=An(function(e){return t.data[e]},{disposable:!0,makeCacheKey:function(e){return e}})}function Gn(e){return new Bn(e)}var Yn=(Jn.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(De({},e,{returnPartialData:!1})).result},Jn.prototype.diffQueryAgainstStore=function(e){var t=e.store,r=e.query,n=e.variables,i=e.previousResult,o=e.returnPartialData,a=void 0===o||o,u=e.rootId,s=void 0===u?"ROOT_QUERY":u,c=e.fragmentMatcherFunction,l=e.config;n=ft({},gt(yt(r)),n);var f={store:t,dataIdFromObject:l&&l.dataIdFromObject||null,cacheRedirects:l&&l.cacheRedirects||{}},h=this.executeStoreQuery({query:r,rootValue:{type:"id",id:s,generated:!0,typename:"Query"},contextValue:f,variableValues:n,fragmentMatcher:c}),p=h.missing&&0<h.missing.length;return p&&!a&&h.missing.forEach(function(e){if(!e.tolerable)throw new ze}),i&&At(i,h.result)&&(h.result=i),{result:h.result,complete:!p}},Jn.prototype.executeStoreQuery=function(e){var t=e.query,r=e.rootValue,n=e.contextValue,i=e.variableValues,o=e.fragmentMatcher,a=void 0===o?zn:o,u=mt(t),s={query:t,fragmentMap:bt(vt(t)),contextValue:n,variableValues:i,fragmentMatcher:a};return this.executeSelectionSet({selectionSet:u.selectionSet,rootValue:r,execContext:s})},Jn.prototype.executeSelectionSet=function(e){var u=this,t=e.selectionSet,s=e.rootValue,c=e.execContext,l=c.fragmentMap,f=c.contextValue,h=c.variableValues,r={result:null},p=[],d=f.store.get(s.id),v=d&&d.__typename||"ROOT_QUERY"===s.id&&"Query"||void 0;function y(e){var t;return e.missing&&(r.missing=r.missing||[],(t=r.missing).push.apply(t,e.missing)),e.result}return t.selections.forEach(function(e){var t;if(ut(e,h))if(nt(e)){var r=y(u.executeField(d,v,e,c));void 0!==r&&p.push(((t={})[rt(e)]=r,t))}else{var n=void 0;if(it(e))n=e;else if(!(n=l[e.name.value]))throw new ze;var i=n.typeCondition.name.value,o=c.fragmentMatcher(s,i,f);if(o){var a=u.executeSelectionSet({selectionSet:n.selectionSet,rootValue:s,execContext:c});"heuristic"===o&&a.missing&&(a=De({},a,{missing:a.missing.map(function(e){return De({},e,{tolerable:!0})})})),p.push(y(a))}}}),r.result=qt(p),r},Jn.prototype.executeField=function(e,t,r,n){var i=n.variableValues,o=n.contextValue,a=function(e,t,r,n,i,o){o.resultKey;var a=o.directives,u=r;(n||a)&&(u=et(u,n,a));var s=void 0;if(e&&void 0===(s=e[u])&&i.cacheRedirects&&"string"==typeof t){var c=i.cacheRedirects[t];if(c){var l=c[r];l&&(s=l(e,n,{getCacheKey:function(e){return at({id:i.dataIdFromObject(e),typename:e.__typename})}}))}}return void 0===s?{result:s,missing:[{object:e,fieldName:u,tolerable:!1}]}:(function(e){return null!=e&&"object"==typeof e&&"json"===e.type}(s)&&(s=s.json),{result:s})}(e,t,r.name.value,tt(r,i),o,{resultKey:rt(r),directives:function(e,t){if(e.directives&&e.directives.length){var r={};return e.directives.forEach(function(e){r[e.name.value]=tt(e,t)}),r}return null}(r,i)});return Array.isArray(a.result)?this.combineExecResults(a,this.executeSubSelectedArray(r,a.result,n)):r.selectionSet?null==a.result?a:this.combineExecResults(a,this.executeSelectionSet({selectionSet:r.selectionSet,rootValue:a.result,execContext:n})):(Kn(r,a.result),a)},Jn.prototype.combineExecResults=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=null;return e.forEach(function(e){e.missing&&(r=r||[]).push.apply(r,e.missing)}),{result:e.pop().result,missing:r}},Jn.prototype.executeSubSelectedArray=function(t,e,r){var n=this,i=null;function o(e){return e.missing&&(i=i||[]).push.apply(i,e.missing),e.result}return{result:e=e.map(function(e){return null===e?null:Array.isArray(e)?o(n.executeSubSelectedArray(t,e,r)):t.selectionSet?o(n.executeSelectionSet({selectionSet:t.selectionSet,rootValue:e,execContext:r})):(Kn(t,e),e)}),missing:i}},Jn);function Jn(e){void 0===e&&(e=new Ln);var t=this;this.cacheKeyRoot=e;var a=this,r=a.executeStoreQuery,n=a.executeSelectionSet;this.executeStoreQuery=An(function(e){return r.call(t,e)},{makeCacheKey:function(e){var t=e.query,r=e.rootValue,n=e.contextValue,i=e.variableValues,o=e.fragmentMatcher;if(n.store instanceof Bn)return a.cacheKeyRoot.lookup(t,n.store,o,JSON.stringify(i),r.id)}}),this.executeSelectionSet=An(function(e){return n.call(t,e)},{makeCacheKey:function(e){var t=e.selectionSet,r=e.rootValue,n=e.execContext;if(n.contextValue.store instanceof Bn)return a.cacheKeyRoot.lookup(t,n.contextValue.store,n.fragmentMatcher,JSON.stringify(n.variableValues),r.id)}})}function Kn(e,t){if(!e.selectionSet&&ot(t))throw new ze}function zn(){return!0}var Wn=(Hn.prototype.toObject=function(){return this.data},Hn.prototype.get=function(e){return this.data[e]},Hn.prototype.set=function(e,t){this.data[e]=t},Hn.prototype.delete=function(e){this.data[e]=void 0},Hn.prototype.clear=function(){this.data=Object.create(null)},Hn.prototype.replace=function(e){this.data=e||Object.create(null)},Hn);function Hn(e){void 0===e&&(e=Object.create(null)),this.data=e}var Xn,$n=(Ce(Zn,Xn=Error),Zn);function Zn(){var e=null!==Xn&&Xn.apply(this,arguments)||this;return e.type="WriteError",e}var ei=(ti.prototype.writeQueryToStore=function(e){var t=e.query,r=e.result,n=e.store,i=void 0===n?Gn():n,o=e.variables,a=e.dataIdFromObject,u=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:r,document:t,store:i,variables:o,dataIdFromObject:a,fragmentMatcherFunction:u})},ti.prototype.writeResultToStore=function(e){var t=e.dataId,r=e.result,n=e.document,i=e.store,o=void 0===i?Gn():i,a=e.variables,u=e.dataIdFromObject,s=e.fragmentMatcherFunction,c=pt(n);try{return this.writeSelectionSetToStore({result:r,dataId:t,selectionSet:c.selectionSet,context:{store:o,processedData:{},variables:ft({},gt(c),a),dataIdFromObject:u,fragmentMap:bt(vt(n)),fragmentMatcherFunction:s}})}catch(e){throw function(e,t){var r=new $n("Error writing result to store for query:\n "+JSON.stringify(t));return r.message+="\n"+e.message,r.stack=e.stack,r}(e,n)}},ti.prototype.writeSelectionSetToStore=function(e){var c=this,l=e.result,f=e.dataId,t=e.selectionSet,h=e.context,p=h.variables,r=h.store,d=h.fragmentMap;return t.selections.forEach(function(e){if(ut(e,p))if(nt(e)){var t=rt(e),r=l[t];if(void 0!==r)c.writeFieldToStore({dataId:f,value:r,field:e,context:h});else{var n=!1,i=!1;e.directives&&e.directives.length&&(n=e.directives.some(function(e){return e.name&&"defer"===e.name.value}),i=e.directives.some(function(e){return e.name&&"client"===e.name.value})),n||i||h.fragmentMatcherFunction}}else{var o=void 0;it(e)?o=e:He(o=(d||{})[e.name.value]);var a=!0;if(h.fragmentMatcherFunction&&o.typeCondition){var u=at({id:"self",typename:void 0}),s={store:new Wn({self:l}),cacheRedirects:{}};a=!!h.fragmentMatcherFunction(u,o.typeCondition.name.value,s)}a&&c.writeSelectionSetToStore({result:l,selectionSet:o.selectionSet,dataId:f,context:h})}}),r},ti.prototype.writeFieldToStore=function(e){var t,r,n,i=e.field,o=e.value,a=e.dataId,u=e.context,s=u.variables,c=u.dataIdFromObject,l=u.store,f=function(e,i){var o=null;e.directives&&(o={},e.directives.forEach(function(n){o[n.name.value]={},n.arguments&&n.arguments.forEach(function(e){var t=e.name,r=e.value;return $e(o[n.name.value],t,r,i)})}));var n=null;return e.arguments&&e.arguments.length&&(n={},e.arguments.forEach(function(e){var t=e.name,r=e.value;return $e(n,t,r,i)})),et(e.name.value,n,o)}(i,s);if(i.selectionSet&&null!==o)if(Array.isArray(o)){var h=a+"."+f;r=this.processArrayValue(o,h,i.selectionSet,u)}else{var p=a+"."+f,d=!0;if(ri(p)||(p="$"+p),c){var v=c(o);He(!v||!ri(v)),(v||"number"==typeof v&&0===v)&&(p=v,d=!1)}ni(p,i,u.processedData)||this.writeSelectionSetToStore({dataId:p,result:o,selectionSet:i.selectionSet,context:u});var y=o.__typename;r=at({id:p,typename:y},d);var m=(n=l.get(a))&&n[f];if(m!==r&&ot(m)){var b=void 0!==m.typename,g=void 0!==y,E=b&&g&&m.typename!==y;He(!d||m.generated||E),He(!b||g),m.generated&&(E?d||l.delete(m.id):function n(e,t,i){if(e===t)return!1;var o=i.get(e),a=i.get(t),u=!1;Object.keys(o).forEach(function(e){var t=o[e],r=a[e];ot(t)&&ri(t.id)&&ot(r)&&!At(t,r)&&n(t.id,r.id,i)&&(u=!0)}),i.delete(e);var r=De({},o,a);return At(r,a)?u:(i.set(t,r),!0)}(m.id,r.id,l))}}else r=null!=o&&"object"==typeof o?{type:"json",json:o}:o;(n=l.get(a))&&At(r,n[f])||l.set(a,De({},n,((t={})[f]=r,t)))},ti.prototype.processArrayValue=function(e,o,a,u){var s=this;return e.map(function(e,t){if(null===e)return null;var r=o+"."+t;if(Array.isArray(e))return s.processArrayValue(e,r,a,u);var n=!0;if(u.dataIdFromObject){var i=u.dataIdFromObject(e);i&&(r=i,n=!1)}return ni(r,a,u.processedData)||s.writeSelectionSetToStore({dataId:r,result:e,selectionSet:a,context:u}),at({id:r,typename:e.__typename},n)})},ti);function ti(){}function ri(e){return"$"===e[0]}function ni(e,t,r){if(!r)return!1;if(r[e]){if(0<=r[e].indexOf(t))return!0;r[e].push(t)}else r[e]=[t];return!1}var ii={fragmentMatcher:new Pn,dataIdFromObject:function(e){if(e.__typename){if(void 0!==e.id)return e.__typename+":"+e.id;if(void 0!==e._id)return e.__typename+":"+e._id}return null},addTypename:!0,resultCaching:!0};var oi,ai=Object.prototype.hasOwnProperty,ui=(Ce(si,oi=Wn),si.prototype.toObject=function(){return De({},this.parent.toObject(),this.data)},si.prototype.get=function(e){return ai.call(this.data,e)?this.data[e]:this.parent.get(e)},si);function si(e,t,r){var n=oi.call(this,Object.create(null))||this;return n.optimisticId=e,n.parent=t,n.transaction=r,n}var ci,li=(Ce(fi,ci=$r),fi.prototype.restore=function(e){return e&&this.data.replace(e),this},fi.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},fi.prototype.read=function(e){return"string"==typeof e.rootId&&void 0===this.data.get(e.rootId)?null:this.storeReader.readQueryFromStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:this.config.fragmentMatcher.match,previousResult:e.previousResult,config:this.config})},fi.prototype.write=function(e){this.storeWriter.writeResultToStore({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:this.config.fragmentMatcher.match}),this.broadcastWatches()},fi.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:this.config.fragmentMatcher.match,config:this.config})},fi.prototype.watch=function(e){var t=this;return this.watches.add(e),function(){t.watches.delete(e)}},fi.prototype.evict=function(e){throw new ze},fi.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},fi.prototype.removeOptimistic=function(e){for(var t=[],r=0,n=this.optimisticData;n instanceof ui;)n.optimisticId===e?++r:t.push(n),n=n.parent;if(0<r){for(this.optimisticData=n;0<t.length;){var i=t.pop();this.performTransaction(i.transaction,i.optimisticId)}this.broadcastWatches()}},fi.prototype.performTransaction=function(e,t){var r=this.data,n=this.silenceBroadcast;this.silenceBroadcast=!0,"string"==typeof t&&(this.data=this.optimisticData=new ui(t,this.optimisticData,e));try{e(this)}finally{this.silenceBroadcast=n,this.data=r}this.broadcastWatches()},fi.prototype.recordOptimisticTransaction=function(e,t){return this.performTransaction(e,t)},fi.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=function(e){return je(ht(e),{SelectionSet:{enter:function(e,t,r){if(!r||"OperationDefinition"!==r.kind){var n=e.selections;if(n&&!n.some(function(e){return"Field"===e.kind&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))return De({},e,{selections:n.concat([wt])})}}}})}(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},fi.prototype.broadcastWatches=function(){var t=this;this.silenceBroadcast||this.watches.forEach(function(e){return t.maybeBroadcastWatch(e)})},fi.prototype.maybeBroadcastWatch=function(e){e.callback(this.diff({query:e.query,variables:e.variables,previousResult:e.previousResult&&e.previousResult(),optimistic:e.optimistic}))},fi);function fi(e){void 0===e&&(e={});var t=ci.call(this)||this;t.watches=new Set,t.typenameDocumentCache=new Map,t.cacheKeyRoot=new Ln,t.silenceBroadcast=!1,t.config=De({},ii,e),t.config.customResolvers&&(t.config.cacheRedirects=t.config.customResolvers),t.config.cacheResolvers&&(t.config.cacheRedirects=t.config.cacheResolvers),t.addTypename=t.config.addTypename,t.data=t.config.resultCaching?new Bn:new Wn,t.optimisticData=t.data,t.storeReader=new Yn(t.cacheKeyRoot),t.storeWriter=new ei;var r=t,n=r.maybeBroadcastWatch;return t.maybeBroadcastWatch=An(function(e){return n.call(t,e)},{makeCacheKey:function(e){if(!e.optimistic&&!e.previousResult)return r.data instanceof Bn?r.cacheKeyRoot.lookup(e.query,JSON.stringify(e.variables)):void 0}}),t}var hi,pi,di="Invariant Violation",vi=Object.setPrototypeOf,yi=void 0===vi?function(e,t){return e.__proto__=t,e}:vi,mi=(Ce(bi,hi=Error),bi);function bi(e){void 0===e&&(e=di);var t=hi.call(this,"number"==typeof e?di+": "+e+" (see https://github.com/apollographql/invariant-packages)":e)||this;return t.framesToPop=1,t.name=di,yi(t,bi.prototype),t}function gi(e,t){if(!e)throw new mi(t)}(pi=gi||(gi={})).warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.warn.apply(console,e)};pi.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.error.apply(console,e)};function Ei(e,t,r){var n=new Error(r);throw n.name="ServerError",n.response=e,n.statusCode=e.status,n.result=t,n}function wi(e,t){var r;try{r=JSON.stringify(e)}catch(e){var n=new mi(2);throw n.parseError=e,n}return r}function Oi(e){void 0===e&&(e={});var t=e.uri,g=void 0===t?"/graphql":t,E=e.fetch,r=e.includeExtensions,w=e.useGETForQueries,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]])}return r}(e,["uri","fetch","includeExtensions","useGETForQueries"]);!function(e){if(!e&&"undefined"==typeof fetch)throw new mi(1)}(E),E||(E=fetch);var O={http:{includeExtensions:r},options:n.fetchOptions,credentials:n.credentials,headers:n.headers};return new dr(function(r){var e=function(e,t){var r=e.getContext().uri;return r||("function"==typeof t?t(e):t||"/graphql")}(r,g),t=r.getContext(),n={};if(t.clientAwareness){var i=t.clientAwareness,o=i.name,a=i.version;o&&(n["apollographql-client-name"]=o),a&&(n["apollographql-client-version"]=a)}var u,s=De({},n,t.headers),c={http:t.http,options:t.fetchOptions,credentials:t.credentials,headers:s},l=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=De({},t.options,{headers:t.headers,credentials:t.credentials}),o=t.http;r.forEach(function(e){i=De({},i,e.options,{headers:De({},i.headers,e.headers)}),e.credentials&&(i.credentials=e.credentials),o=De({},o,e.http)});var a=e.operationName,u=e.extensions,s=e.variables,c=e.query,l={operationName:a,variables:s};return o.includeExtensions&&(l.extensions=u),o.includeQuery&&(l.query=zt(c)),{options:i,body:l}}(r,Si,O,c),f=l.options,h=l.body;if(!f.signal){var p=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),d=p.controller,v=p.signal;(u=d)&&(f.signal=v)}if(w&&!r.query.definitions.some(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})&&(f.method="GET"),"GET"===f.method){var y=function(e,t){function r(e,t){n.push(e+"="+encodeURIComponent(t))}var n=[];"query"in t&&r("query",t.query);t.operationName&&r("operationName",t.operationName);if(t.variables){var i=void 0;try{i=wi(t.variables)}catch(e){return{parseError:e}}r("variables",i)}if(t.extensions){var o=void 0;try{o=wi(t.extensions)}catch(e){return{parseError:e}}r("extensions",o)}var a="",u=e,s=e.indexOf("#");-1!==s&&(a=e.substr(s),u=e.substr(0,s));var c=-1===u.indexOf("?")?"?":"&";return{newURI:u+c+n.join("&")+a}}(e,h),m=y.newURI,b=y.parseError;if(b)return ar(b);e=m}else try{f.body=wi(h)}catch(b){return ar(b)}return new Vt(function(t){return E(e,f).then(function(e){return r.setContext({response:e}),e}).then(function(t){return function(n){return n.text().then(function(t){try{return JSON.parse(t)}catch(e){var r=e;return r.name="ServerParseError",r.response=n,r.statusCode=n.status,r.bodyText=t,Promise.reject(r)}}).then(function(e){return 300<=n.status&&Ei(n,e,"Response not successful: Received status code "+n.status),Array.isArray(e)||e.hasOwnProperty("data")||e.hasOwnProperty("errors")||Ei(n,e,"Server response was missing for query '"+(Array.isArray(t)?t.map(function(e){return e.operationName}):t.operationName)+"'."),e})}}(r)).then(function(e){return t.next(e),t.complete(),e}).catch(function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e))}),function(){u&&u.abort()}})})}var Si={http:{includeQuery:!0,includeExtensions:!(pi.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.error.apply(console,e)})},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}};var ki,Ii=(Ce(Ti,ki=dr),Ti);function Ti(e){return ki.call(this,Oi(e).request)||this}function Ni(a){return new dr(function(i,o){return new Vt(function(t){var e,r,n;try{e=o(i).subscribe({next:function(e){e.errors&&(n=a({graphQLErrors:e.errors,response:e,operation:i,forward:o}))?r=n.subscribe({next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)}):t.next(e)},error:function(e){(n=a({operation:i,networkError:e,graphQLErrors:e&&e.result&&e.result.errors,forward:o}))?r=n.subscribe({next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)}):t.error(e)},complete:function(){n||t.complete.bind(t)()}})}catch(e){a({networkError:e,operation:i,forward:o}),t.error(e)}return function(){e&&e.unsubscribe(),r&&e.unsubscribe()}})})}var Ri;Ce(_i,Ri=dr),_i.prototype.request=function(e,t){return this.link.request(e,t)};function _i(e){var t=Ri.call(this)||this;return t.link=Ni(e),t}var Ai,xi=["request","uri","credentials","headers","fetch","fetchOptions","clientState","onError","cacheRedirects","cache","name","version","resolvers","typeDefs","fragmentMatcher"];function Qi(e){void 0===e&&(e={});e&&Object.keys(e).filter(function(e){return-1===xi.indexOf(e)}).length;var i=e.request,t=e.uri,r=e.credentials,n=e.headers,o=e.fetch,a=e.fetchOptions,u=e.clientState,s=e.cacheRedirects,c=e.onError,l=e.name,f=e.version,h=e.resolvers,p=e.typeDefs,d=e.fragmentMatcher,v=e.cache;He(!v||!s),v||(v=s?new li({cacheRedirects:s}):new li);var y=Ni(c||function(e){var t=e.graphQLErrors;e.networkError;t&&t.map(function(e){e.message,e.locations,e.path;return!0})}),m=!!i&&new dr(function(r,n){return new Vt(function(e){var t;return Promise.resolve(r).then(function(e){return i(e)}).then(function(){t=n(r).subscribe({next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)})}).catch(e.error.bind(e)),function(){t&&t.unsubscribe()}})}),b=new Ii({uri:t||"/graphql",fetch:o,fetchOptions:a||{},credentials:r||"same-origin",headers:n||{}}),g=dr.from([y,m,b].filter(function(e){return!!e})),E=h,w=p,O=d;return u&&(u.defaults&&v.writeData({data:u.defaults}),E=u.resolvers,w=u.typeDefs,O=u.fragmentMatcher),Ai.call(this,{cache:v,link:g,name:l,version:f,resolvers:E,typeDefs:w,fragmentMatcher:O})||this}return{ApolloClient:(Ce(Qi,Ai=zr),Qi),gql:Qe}});
//# sourceMappingURL=apollo-boost-amd.min.js.map